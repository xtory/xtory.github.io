!function(e){"use strict";function t(){}function r(){this.vertexSpacing=150}function n(e,t){this.vertexIndex=e,this.value=t}function o(e){function t(){l=[];for(var e=0;e<h.length;e++)l.push(new n(e,0));for(var e=0;e<f.length;e++){var t=f[e],r=l[t.sourceVertexIndex];r.value++,l[t.sourceVertexIndex]=r,r=l[t.destinationVertexIndex],r.value++,l[t.destinationVertexIndex]=r}l.sort(function(e,t){return e.value<t.value?G.ComparisonResults.ITEM1_FOLLOWS_ITEM2:t.value<e.value?G.ComparisonResults.ITEM1_PRECEDES_ITEM2:G.ComparisonResults.ITEMS_IN_SAME_POSITION});for(var e=0;e<l.length;e++){var t=l[e];if(0===t.value){l.splice(e,l.length-e);break}}}function o(){u=[],c=[];for(var e=0;e<l.length;e++){var t=l[e];t.value<=0&&console.log("vertexDegree.value <= 0 occurs, but it's not supposed to."),u.push(t.vertexIndex)}for(var e=0;e<h.Count;e++)G.ArrayHelper.contains(u,e)===!1&&c.push(e)}function a(){if(s=[],0!==u.length)if(1===u.length)s.push(new G.Vector2D(0,0));else for(var e,t,r,n,o=gl.MathHelper.toRadians(360),a=o/u.length,i=.5*a,l=.5*_vertexSpacing/Math.sin(i),c=0;c<u.length;c++)e=new G.Vector3D(0,l,0),r=new G.Quaternion.fromAxisAngle(new G.Vector3D(0,0,-1),a*c),n=r.toMatrix4x4(),e=G.Vector3D.transformPoint(n,t),s.push(t.xy)}var i,l,u,c,s,h,f,G=GorillaGL;try{i=this,void 0===e&&(i=new r)}catch(L){throw console.log("g2l.CircularLayout: "+L),L}Object.defineProperty(i,"style",{get:function(){return e},set:function(t){r.areEqual(t,e)!==!0&&(e=t)}}),this.perform=function(e,r){0!==e.length&&(h=e,f=r,t(),o(),a())}}function a(e){var t;try{t=this}catch(r){throw console.log("g2l.GraphLayoutState: ",r),r}Object.defineProperty(t,"layout",{get:function(){return e}})}function i(e){a.call(this,e)}function l(e,t){this.sourceVertexIndex=e,this.destinationVertexIndex=t}function u(e){this.position=e}function c(e){function t(e,t){r();for(var n=0;n<e.length;n++){var o=new u(e[n].centerPosition);s.push(o)}for(var n=0;n<t.length;n++){var a=t[n],i=new l(a.sourceGraphVertexIndex,a.destinationGraphVertexIndex);h.push(i)}}function r(){h=[],s=[]}var n,a,c,s,h,f=GorillaGL;try{n=this,a=new i(n),s=[],h=[]}catch(G){throw console.log("g2l.Layout: "+G),G}Object.defineProperty(n,"chart",{get:function(){return e}}),Object.defineProperty(n,"state",{get:function(){return a},set:function(e){e!==a&&(a=e)}}),this.startPerformingCircularlayout=function(e,r,n,a){void 0===c?c=new o(e):c.style=e,t(r,n),c.perform(s,h);for(var i=0;i<s.Count;i++){var l=s[i];l.position=f.Vector2D.addVectors(l.position,a),s[i]=l}}}function s(e){var r,n;try{r=this,void 0===e&&(e=new t)}catch(o){throw console.log("g2l.CircularLayout: "+o),o}Object.defineProperty(r,"style",{get:function(){return e},set:function(r){t.areEqual(r,e)!==!0&&(e=r)}}),Object.defineProperty(r,"layout",{get:function(){return void 0===n&&(n=new c(r)),n}})}function h(e,t,r,n){GorillaGL.World2DImage.call(e.world,t,r,n);var o;try{o=this}catch(a){throw console.log("g2l.ChartImage: ",a),a}}function f(){}t.areEqual=function(e,r){return e instanceof t==!1||r instanceof t==!1?!1:!0},r.areEqual=function(e,t){return e instanceof r==!1||t instanceof r==!1?!1:e.vertexSpacing!==t.vertexSpacing?!1:!0},a.prototype={update:function(){}},GorillaGL.JSHelper.inherit(i,a),GorillaGL.JSHelper.inherit(h,GorillaGL.World2DImage),h.prototype.draw=function(){},f.BACKGROUND=GorillaGL.World2DLayerName.BACKGROUND,f.FILLED_BOXES=GorillaGL.World2DLayerName.BACKGROUND+1,f.THEME_LINES=GorillaGL.World2DLayerName.BACKGROUND+2,f.LINKS=GorillaGL.World2DLayerName.BACKGROUND+3,f.CORNERS=GorillaGL.World2DLayerName.BACKGROUND+4,f.UNFILLED_BOXES=GorillaGL.World2DLayerName.BACKGROUND+5,f.ENDS=GorillaGL.World2DLayerName.BACKGROUND+6,f.LEGENDS=GorillaGL.World2DLayerName.BACKGROUND+7,f.FIRST_ITEM=f.BACKGROUND,f.LAST_ITEM=f.LEGENDS,f.FARTHEST_ITEM=f.BACKGROUND,f.NEAREST_ITEM=f.LEGENDS,e.Chart=s,e.ChartImage=h,e.ChartLayerName=f,e.ChartStyle=t,e.CircularLayout=o,e.CircularLayoutStyle=r,e.CircularLayoutVertexDegree=n,e.GraphEdge=l,e.GraphLayoutState=a,e.GraphLayoutStateNormal=i,e.GraphVertex=u}(this.GorillaLinkAnalysis=this.GorillaLinkAnalysis||{});
