this.gorilla=this.gorilla||{},function(e){"use strict";function r(){var e=gorilla.graphicsLibrary;this.lineSegmentColor=new e.Color(0,0,0,.125),this.lineSegmentThicknesss=5}function t(e,t){var n,o,i;gorilla.graphicsLibrary;try{n=this,o=!1,i=[]}catch(a){throw console.log("g2l.AxisGroup: "+a),a}Object.defineProperty(n,"canvas",{get:function(){return e}}),Object.defineProperty(n,"style",{get:function(){return t},set:function(e){r.areEqual(e,t)!==!0&&(t=e)}})}function n(){}function o(){this.vertexSpacing=o.DEFAULT_VERTEX_SPACING}function i(e,r){this.vertexIndex=e,this.value=r}function a(e){function r(){h=[];for(var e=0;e<y.length;e++)h.push(new i(e,0));for(var e=0;e<E.length;e++){var r=E[e],t=h[r.sourceVertexIndex];t.value++,h[r.sourceVertexIndex]=t,t=h[r.destinationVertexIndex],t.value++,h[r.destinationVertexIndex]=t}h.sort(function(e,r){return e.value<r.value?d.ComparisonResults.ITEM1_FOLLOWS_ITEM2:r.value<e.value?d.ComparisonResults.ITEM1_PRECEDES_ITEM2:d.ComparisonResults.ITEMS_IN_SAME_POSITION});for(var e=0;e<h.length;e++){var r=h[e];if(0===r.value){h.splice(e,h.length-e);break}}}function t(){p=[],f=[];for(var e=0;e<h.length;e++){var r=h[e];r.value<=0&&console.log("vertexDegree.value <= 0 occurs, but it's not supposed to."),p.push(r.vertexIndex)}for(var e=0;e<y.length;e++)d.ArrayHelper.contains(p,e)===!1&&f.push(e)}function n(){if(v=[],0!==p.length)if(1===p.length)v.push(new d.Vector2D(0,0));else for(var r,t,n,o,i=d.MathHelper.RADIANS_OF_THREE_SIXTY_DEGREES,a=i/p.length,l=.5*a,s=.5*e.vertexSpacing/Math.sin(l),c=0;c<p.length;c++)r=new d.Vector3D(0,s,0),n=new d.Quaternion.fromAxisAngle(new d.Vector3D(0,0,-1),a*c),o=n.toMatrix4x4(),t=d.Vector3D.transformPoint(r,o),v.push(t.xy)}function l(){var e;e=p.length<16?4:p.length<32?8:16;for(var r=[],t=0;e>t;t++)r.push([]);for(var n=Math.floor(p.length/r.length),o=p.length%r.length,i=[],t=0;t<r.length;t++)i.push(n);for(var t=0;o>t;t++)i[t]++;for(var a=0,t=0;t<r.length;t++)for(var l=r[t],s=0;s<i[t];s++)l.push(a),a++;a!==p.length&&console.log("An error-checking-failed exception raised.");var c=n;return 0!==o&&c++,{groups:r,levelCount:c}}function s(e,r,t){if(0!==e.length){e.length-1<r&&(r=0);var n=e[r];t.push(n),e.splice(r,1)}}function c(r,t){var n;n=0===p.length?new d.Vector2D(0,0):new d.Vector2D(r+e.vertexSpacing,t);for(var o=0,i=0;i<f.length;i++){var l=f[i],s=y[l];s.position=d.Vector2D.addVectors(n,new d.Vector2D(a.DEFAULT_UNEDGED_VERTEX_SPACING*o,0)),y[l]=s,o++}}function u(e){for(var r=0;r<e.length;r++)for(var t=0;t<e.length;t++)if(r!==t&&e[r]===e[t])throw"An invalid-operation exception raised."}var g,h,p,f,v,y,E,d=gorilla.graphicsLibrary;try{g=this,void 0===e&&(g=new o)}catch(L){throw console.log("g2l.CircularLayout: "+L),L}Object.defineProperty(g,"style",{get:function(){return e},set:function(r){o.areEqual(r,e)!==!0&&(e=r)}}),this.perform=function(e,o){if(0!==e.length){y=e,E=o,r(),t(),n();var i=Number.MIN_VALUE,a=Number.MIN_VALUE;if(p.length<=3)for(var g=0;g<h.length;g++){var f=h[g];f.value<=0&&concole.log("vertexDegree.value <= 0 occurs, but it's not supposed to.");var L=f.vertexIndex,x=y[L];x.position=v[g],i<x.position.x&&(i=x.position.x),a<x.position.y&&(a=x.position.y),y[L]=x}else{for(var D=l(),S=[],I=!0,g=0;g<D.levelCount;g++){if(0===g)for(var N=0;N<D.groups.length;N++){var A=D.groups[N],C=0,b=A[C];S.push(b),A.splice(C,1)}else{var C=d.RandomHelper.next(0,D.groups[0].length);if(I===!0)for(var N=0;N<D.groups.length;N++){var A=D.groups[N];s(A,C,S)}else for(var N=D.groups.length-1;N>=0;N--){var A=D.groups[N];s(A,C,S)}}I=!I}u(S);for(var g=0;g<h.length;g++){var f=h[g];f.value<=0&&concole.log("vertexDegree.value <= 0 occurs, but it's not supposed to.");var L=f.vertexIndex,b=S[g],x=y[L];x.position=v[b],i<x.position.x&&(i=x.position.x),a<x.position.y&&(a=x.position.y),y[L]=x}}c(i,a)}}}function l(e){var r;try{r=this}catch(t){throw console.log("g2l.GraphLayoutState: ",t),t}Object.defineProperty(r,"layout",{get:function(){return e}})}function s(e){l.call(this,e)}function c(e,r){this.sourceVertexIndex=e,this.destinationVertexIndex=r}function u(e){this.position=e}function g(e){function r(e,r){t();for(var n=0;n<e.length;n++){var o=new u(e[n].centerPosition);l.push(o)}for(var n=0;n<r.length;n++){var i=r[n],a=new c(i.sourceGraphVertexIndex,i.destinationGraphVertexIndex);g.push(a)}}function t(){g=[],l=[]}var n,o,i,l,g,h=gorilla.graphicsLibrary;try{n=this,o=new s(n),l=[],g=[]}catch(p){throw console.log("g2l.Layout: "+p),p}Object.defineProperty(n,"chart",{get:function(){return e}}),Object.defineProperty(n,"state",{get:function(){return o},set:function(e){e!==o&&(o=e)}}),Object.defineProperty(n,"graphVertexCount",{get:function(){return l.length}}),this.startPerformingCircularlayout=function(e,t,n,o){void 0===i?i=new a(e):i.style=e,r(t,n),i.perform(l,g);for(var s=0;s<l.Count;s++){var c=l[s];c.position=h.Vector2D.addVectors(o,c.position),l[s]=c}},this.getGraphVertexAt=function(e){if(h.IndexHelper.isIndexValid(l,e)===!1)throw"An argument-out-of-range exception raised.";return l[e]}}function h(e,r){var t,o;try{t=this,void 0===r&&(r=new n)}catch(i){throw console.log("g2l.CircularLayout: "+i),i}Object.defineProperty(t,"renderer",{get:function(){return e}}),Object.defineProperty(t,"style",{get:function(){return r},set:function(e){n.areEqual(e,r)!==!0&&(r=e)}}),Object.defineProperty(t,"layout",{get:function(){return void 0===o&&(o=new g(t)),o}})}function p(e,r,t,n){var o=gorilla.graphicsLibrary;o.World2DImage.call(e.world,r,t,n);var i;try{i=this}catch(a){throw console.log("g2l.ChartImage: ",a),a}}function f(){}r.areEqual=function(e,t){return e instanceof r==!1||t instanceof r==!1?!1:gorilla.graphicsLibrary.Color.areEqual(e.lineSegmentColor,t.lineSegmentColor)===!1||e.lineSegmentThicknesss!==t.lineSegmentThicknesss?!1:!0},n.areEqual=function(e,r){return e instanceof n==!1||r instanceof n==!1?!1:!0},o.areEqual=function(e,r){return e instanceof o==!1||r instanceof o==!1?!1:e.vertexSpacing!==r.vertexSpacing?!1:!0},o.DEFAULT_VERTEX_SPACING=150,a.DEFAULT_UNEDGED_VERTEX_SPACING=o.DEFAULT_VERTEX_SPACING,l.prototype={update:function(){}},gorilla.graphicsLibrary.JSHelper.inherit(s,l),gorilla.graphicsLibrary.JSHelper.inherit(p,gorilla.graphicsLibrary.World2DImage),p.prototype.draw=function(){},f.BACKGROUND=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND,f.FILLED_BOXES=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+1,f.THEME_LINES=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+2,f.LINKS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+3,f.CORNERS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+4,f.UNFILLED_BOXES=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+5,f.ENDS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+6,f.LEGENDS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+7,f.FIRST_ITEM=f.BACKGROUND,f.LAST_ITEM=f.LEGENDS,f.FARTHEST_ITEM=f.BACKGROUND,f.NEAREST_ITEM=f.LEGENDS,e.AxisGroup=t,e.AxisGroupStyle=r,e.Chart=h,e.ChartImage=p,e.ChartLayerName=f,e.ChartStyle=n,e.CircularLayout=a,e.CircularLayoutStyle=o,e.CircularLayoutVertexDegree=i,e.GraphEdge=c,e.GraphLayoutState=l,e.GraphLayoutStateNormal=s,e.GraphVertex=u}(this.gorilla.linkAnalysis=this.gorilla.linkAnalysis||{});
