this.gorilla=this.gorilla||{},function(r){"use strict";function e(){}function t(){this.vertexSpacing=t.DEFAULT_VERTEX_SPACING}function o(r,e){this.vertexIndex=r,this.value=e}function n(r){function e(){h=[];for(var r=0;r<y.length;r++)h.push(new o(r,0));for(var r=0;r<E.length;r++){var e=E[r],t=h[e.sourceVertexIndex];t.value++,h[e.sourceVertexIndex]=t,t=h[e.destinationVertexIndex],t.value++,h[e.destinationVertexIndex]=t}h.sort(function(r,e){return r.value<e.value?d.ComparisonResults.ITEM1_FOLLOWS_ITEM2:e.value<r.value?d.ComparisonResults.ITEM1_PRECEDES_ITEM2:d.ComparisonResults.ITEMS_IN_SAME_POSITION});for(var r=0;r<h.length;r++){var e=h[r];if(0===e.value){h.splice(r,h.length-r);break}}}function a(){p=[],f=[];for(var r=0;r<h.length;r++){var e=h[r];e.value<=0&&console.log("vertexDegree.value <= 0 occurs, but it's not supposed to."),p.push(e.vertexIndex)}for(var r=0;r<y.length;r++)d.ArrayHelper.contains(p,r)===!1&&f.push(r)}function i(){if(v=[],0!==p.length)if(1===p.length)v.push(new d.Vector2D(0,0));else for(var e,t,o,n,a=d.MathHelper.RADIANS_OF_THREE_SIXTY_DEGREES,i=a/p.length,l=.5*i,s=.5*r.vertexSpacing/Math.sin(l),u=0;u<p.length;u++)e=new d.Vector3D(0,s,0),o=new d.Quaternion.fromAxisAngle(new d.Vector3D(0,0,-1),i*u),n=o.toMatrix4x4(),t=d.Vector3D.transformPoint(e,n),v.push(t.xy)}function l(){var r;r=p.length<16?4:p.length<32?8:16;for(var e=[],t=0;r>t;t++)e.push([]);for(var o=Math.floor(p.length/e.length),n=p.length%e.length,a=[],t=0;t<e.length;t++)a.push(o);for(var t=0;n>t;t++)a[t]++;for(var i=0,t=0;t<e.length;t++)for(var l=e[t],s=0;s<a[t];s++)l.push(i),i++;i!==p.length&&console.log("An error-checking-failed exception raised.");var u=o;return 0!==n&&u++,{groups:e,levelCount:u}}function s(r,e,t){if(0!==r.length){r.length-1<e&&(e=0);var o=r[e];t.push(o),r.splice(e,1)}}function u(e,t){var o;o=0===p.length?new d.Vector2D(0,0):new d.Vector2D(e+r.vertexSpacing,t);for(var a=0,i=0;i<f.length;i++){var l=f[i],s=y[l];s.position=d.Vector2D.addVectors(o,new d.Vector2D(n.DEFAULT_UNEDGED_VERTEX_SPACING*a,0)),y[l]=s,a++}}function c(r){for(var e=0;e<r.length;e++)for(var t=0;t<r.length;t++)if(e!==t&&r[e]===r[t])throw"An invalid-operation exception raised."}var g,h,p,f,v,y,E,d=gorilla.graphicsLibrary;try{g=this,void 0===r&&(g=new t)}catch(D){throw console.log("g2l.CircularLayout: "+D),D}Object.defineProperty(g,"style",{get:function(){return r},set:function(e){t.areEqual(e,r)!==!0&&(r=e)}}),this.perform=function(r,t){if(0!==r.length){y=r,E=t,e(),a(),i();var o=Number.MIN_VALUE,n=Number.MIN_VALUE;if(p.length<=3)for(var g=0;g<h.length;g++){var f=h[g];f.value<=0&&concole.log("vertexDegree.value <= 0 occurs, but it's not supposed to.");var D=f.vertexIndex,L=y[D];L.position=v[g],o<L.position.x&&(o=L.position.x),n<L.position.y&&(n=L.position.y),y[D]=L}else{for(var x=l(),I=[],N=!0,g=0;g<x.levelCount;g++){if(0===g)for(var A=0;A<x.groups.length;A++){var S=x.groups[A],C=0,_=S[C];I.push(_),S.splice(C,1)}else{var C=d.RandomHelper.next(0,x.groups[0].length);if(N===!0)for(var A=0;A<x.groups.length;A++){var S=x.groups[A];s(S,C,I)}else for(var A=x.groups.length-1;A>=0;A--){var S=x.groups[A];s(S,C,I)}}N=!N}c(I);for(var g=0;g<h.length;g++){var f=h[g];f.value<=0&&concole.log("vertexDegree.value <= 0 occurs, but it's not supposed to.");var D=f.vertexIndex,_=I[g],L=y[D];L.position=v[_],o<L.position.x&&(o=L.position.x),n<L.position.y&&(n=L.position.y),y[D]=L}}u(o,n)}}}function a(r){var e;try{e=this}catch(t){throw console.log("g2l.GraphLayoutState: ",t),t}Object.defineProperty(e,"layout",{get:function(){return r}})}function i(r){a.call(this,r)}function l(r,e){this.sourceVertexIndex=r,this.destinationVertexIndex=e}function s(r){this.position=r}function u(r){function e(r,e){t();for(var o=0;o<r.length;o++){var n=new s(r[o].centerPosition);c.push(n)}for(var o=0;o<e.length;o++){var a=e[o],i=new l(a.sourceGraphVertexIndex,a.destinationGraphVertexIndex);g.push(i)}}function t(){g=[],c=[]}var o,a,u,c,g,h=gorilla.graphicsLibrary;try{o=this,a=new i(o),c=[],g=[]}catch(p){throw console.log("g2l.Layout: "+p),p}Object.defineProperty(o,"chart",{get:function(){return r}}),Object.defineProperty(o,"state",{get:function(){return a},set:function(r){r!==a&&(a=r)}}),Object.defineProperty(o,"graphVertexCount",{get:function(){return c.length}}),this.startPerformingCircularlayout=function(r,t,o,a){void 0===u?u=new n(r):u.style=r,e(t,o),u.perform(c,g);for(var i=0;i<c.Count;i++){var l=c[i];l.position=h.Vector2D.addVectors(a,l.position),c[i]=l}},this.getGraphVertexAt=function(r){if(h.IndexHelper.isIndexValid(c,r)===!1)throw"An argument-out-of-range exception raised.";return c[r].position}}function c(r){var t,o;try{t=this,void 0===r&&(r=new e)}catch(n){throw console.log("g2l.CircularLayout: "+n),n}Object.defineProperty(t,"style",{get:function(){return r},set:function(t){e.areEqual(t,r)!==!0&&(r=t)}}),Object.defineProperty(t,"layout",{get:function(){return void 0===o&&(o=new u(t)),o}})}function g(r,e,t,o){var n=gorilla.graphicsLibrary;n.World2DImage.call(r.world,e,t,o);var a;try{a=this}catch(i){throw console.log("g2l.ChartImage: ",i),i}}function h(){}e.areEqual=function(r,t){return r instanceof e==!1||t instanceof e==!1?!1:!0},t.areEqual=function(r,e){return r instanceof t==!1||e instanceof t==!1?!1:r.vertexSpacing!==e.vertexSpacing?!1:!0},t.DEFAULT_VERTEX_SPACING=150,n.DEFAULT_UNEDGED_VERTEX_SPACING=t.DEFAULT_VERTEX_SPACING,a.prototype={update:function(){}},gorilla.graphicsLibrary.JSHelper.inherit(i,a),gorilla.graphicsLibrary.JSHelper.inherit(g,gorilla.graphicsLibrary.World2DImage),g.prototype.draw=function(){},h.BACKGROUND=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND,h.FILLED_BOXES=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+1,h.THEME_LINES=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+2,h.LINKS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+3,h.CORNERS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+4,h.UNFILLED_BOXES=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+5,h.ENDS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+6,h.LEGENDS=gorilla.graphicsLibrary.World2DLayerName.BACKGROUND+7,h.FIRST_ITEM=h.BACKGROUND,h.LAST_ITEM=h.LEGENDS,h.FARTHEST_ITEM=h.BACKGROUND,h.NEAREST_ITEM=h.LEGENDS,r.Chart=c,r.ChartImage=g,r.ChartLayerName=h,r.ChartStyle=e,r.CircularLayout=n,r.CircularLayoutStyle=t,r.CircularLayoutVertexDegree=o,r.GraphEdge=l,r.GraphLayoutState=a,r.GraphLayoutStateNormal=i,r.GraphVertex=s}(this.gorilla.linkAnalysis=this.gorilla.linkAnalysis||{});
