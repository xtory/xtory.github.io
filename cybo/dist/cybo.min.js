!function(e){"use strict";function t(){}function n(){}function r(){}function i(){}function o(){}function a(){}function s(){}function c(){}function u(e){function t(e,t){var n;if(e===c.VERTEX_SHADER)n=i.createShader(i.VERTEX_SHADER);else{if(e!==c.FRAGMENT_SHADER)return null;n=i.createShader(i.FRAGMENT_SHADER)}if(i.shaderSource(n,t),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)===!1)throw"An error occurred compiling the shaders: "+i.getShaderInfoLog(n);return n}function n(e){var t=document.getElementById(e);if(null===t)return null;for(var n="",r=t.firstChild;null!==r;)r.nodeType===Node.TEXT_NODE&&(n+=r.textContent),r=r.nextSibling;var o;if("x-shader/x-vertex"===t.type)o=i.createShader(i.VERTEX_SHADER);else{if("x-shader/x-fragment"!==t.type)return null;o=i.createShader(i.FRAGMENT_SHADER)}if(i.shaderSource(o,n),i.compileShader(o),i.getShaderParameter(o,i.COMPILE_STATUS)===!1)throw"An error occurred compiling the shaders: "+i.getShaderInfoLog(o);return o}function r(e,t){var n=i.createProgram();if(i.attachShader(n,e),i.attachShader(n,t),i.linkProgram(n),i.getProgramParameter(n,i.LINK_STATUS)===!1)throw"Unable to initialize the shader program: "+i.getProgramInfoLog(shader);return n}var i=e.graphicsManager.webGLContext;Object.defineProperty(this,"xcene",{get:function(){return e}}),this.setUpShaderProgram=function(e,n){var i=t(c.VERTEX_SHADER,e),o=t(c.FRAGMENT_SHADER,n);return r(i,o)},this.setUpShaderProgramFromHtmlElements=function(e,t){var i=n(c.VERTEX_SHADER,e),o=n(c.FRAGMENT_SHADER,t);return r(i,o)},this.loadTexture2D=function(e){function t(e,t){t.width=e.width,t.height=e.height,i.bindTexture(i.TEXTURE_2D,t),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e),s.isPowerOfTwo(e.width)===!0&&s.isPowerOfTwo(e.height)===!0?(i.generateMipmap(i.TEXTURE_2D),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR)):i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.bindTexture(i.TEXTURE_2D,null)}var n=new Image,r=i.createTexture();return n.addEventListener("load",function(){t(n,r)}),n.src=e,r}}function f(){}function E(e,t,n,r,i,o,a,s,c,u,f,E,_,O,l,T){this.elements=[e,i,c,_,t,o,u,O,n,a,f,l,r,s,E,T],Object.defineProperty(this,"s11",{get:function(){return this.elements[0]}}),Object.defineProperty(this,"s12",{get:function(){return this.elements[4]}}),Object.defineProperty(this,"s13",{get:function(){return this.elements[8]}}),Object.defineProperty(this,"s14",{get:function(){return this.elements[12]}}),Object.defineProperty(this,"s21",{get:function(){return this.elements[1]}}),Object.defineProperty(this,"s22",{get:function(){return this.elements[5]}}),Object.defineProperty(this,"s23",{get:function(){return this.elements[9]}}),Object.defineProperty(this,"s24",{get:function(){return this.elements[13]}}),Object.defineProperty(this,"s31",{get:function(){return this.elements[2]}}),Object.defineProperty(this,"s32",{get:function(){return this.elements[6]}}),Object.defineProperty(this,"s33",{get:function(){return this.elements[10]}}),Object.defineProperty(this,"s34",{get:function(){return this.elements[14]}}),Object.defineProperty(this,"s41",{get:function(){return this.elements[3]}}),Object.defineProperty(this,"s42",{get:function(){return this.elements[7]}}),Object.defineProperty(this,"s43",{get:function(){return this.elements[11]}}),Object.defineProperty(this,"s44",{get:function(){return this.elements[15]}})}function _(e,t,n,r){this.x=e,this.y=t,this.z=n,this.w=r}function O(e,t){this.x=e,this.y=t}function l(e,t,n,r){this.x=e,this.y=t,this.z=n,this.w=r}function T(e,t,n){this.x=e,this.y=t,this.z=n}function h(){}function A(){}function P(e,t,n,r,i,o){function a(){l!==!1&&(u=E.createViewMatrix(t,n,r),d=!0,l=!1)}function c(){var t=e.graphicsManager.viewport.aspectRatio;(h!==!1||s.areEqual(t,R)!==!0)&&(R=t,f=E.createProjectionMatrix(P.FIELD_OF_VIEW_Y,R,i,o),d=!0,h=!1)}var u,f,_,O,l,h,d,R;try{void 0===t&&(t=new T(0,0,1e4)),void 0===n&&(n=P.DEFAULT_FACING_DIRECTION),void 0===r&&(r=P.DEFAULT_UP_DIRECTION),void 0===i&&(i=P.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===o&&(o=P.DEFAULT_DISTANCE_TO_FAR_PLANE),i<P.MIN_DISTANCE_TO_NEAR_PLANE&&(i=P.MIN_DISTANCE_TO_NEAR_PLANE),P.MAX_DISTANCE_TO_FAR_PLANE<o&&(o=P.MAX_DISTANCE_TO_FAR_PLANE),O=new A,Object.defineProperty(this,"position",{get:function(){return t}}),Object.defineProperty(this,"facingDirection",{get:function(){return n}}),Object.defineProperty(this,"upDirection",{get:function(){return r}}),Object.defineProperty(this,"distanceToNearPlane",{get:function(){return i}}),Object.defineProperty(this,"distanceToFarPlane",{get:function(){return o}}),Object.defineProperty(this,"viewFrustum",{get:function(){return O}}),l=!0,h=!0,d=!0}catch(y){throw console.log("Cybo.Camera: ",y),y}this.zoom=function(e){var r=T.multiplyVectorByScalar(T.calculateUnitVectorOf(n),e);t=T.addVectors(t,r),l=!0},this.getViewMatrix=function(e){a(),e.elements=u.elements.slice()},this.getProjectionMatrix=function(e){c(),e.elements=f.elements.slice()},this.getTransform=function(e){a(),c(),d===!0&&(_=E.multiplyMatrices(f,u)),e.elements=_.elements.slice(),d===!0&&(d=!1)}}function d(){}function R(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r}function y(){}function m(){}function w(){}function S(e,t,n,r){this.left=e,this.bottom=t,this.width=n,this.height=r,Object.defineProperty(this,"aspectRatio",{get:function(){return n/r}}),this.toNormalizedDeviceSpace=function(e){return new O(w.MIN_X+e.x/n*(w.MAX_X-w.MIN_X),w.MIN_Y+e.y/r*(w.MAX_Y-w.MIN_Y))}}function p(e){function t(){if(void 0!==e.settings&&void 0!==e.settings.canvas)u=e.settings.canvas;else{if(void 0===document.body)throw"document.body === undefined";u=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),document.body.appendChild(u)}}function n(){if(void 0===e.settings||e.settings.usesDefaultStyles!==!0){var t;t=document.body.style,t.margin=0,t.backgroundColor="#202020",t=u.style,t.width="100vw",t.height="100vh",t.display="block"}}function r(){if(f=u.getContext("webgl"),null===f){if(f=u.getContext("experimental-webgl"),null===f)throw alert("Unable to initialize WebGL. Your browser may not support it."),"A WebGL-not-supported exception raised.";console.log("Your browser supports WebGL. \n\nHowever, it indicates the support is experimental. That is, not all WebGL functionality may be supported, and content may not run as expected.")}f.depthRange(m.NEAR_CLIP_PLANE,m.FAR_CLIP_PLANE),T=p.DEFAULT_CLEAR_COLOR,h=p.DEFAULT_CLEAR_DEPTH,A=p.DEFAULT_CLEAR_STENCIL,f.clearColor(T.r,T.g,T.b,T.a),f.clearDepth(h),f.clearStencil(A),i(),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!0)}function i(){o(),a(),s(),c()}function o(){f.disable(f.BLEND)}function a(){f.enable(f.DEPTH_TEST),f.depthFunc(f.LEQUAL),f.disable(f.STENCIL_TEST)}function s(){}function c(){f.enable(f.CULL_FACE),f.cullFace(f.BACK)}var u,f,_,O,l,T,h,A;try{_=window.devicePixelRatio,t(),n(),r()}catch(P){throw console.log("GraphicsManager: "+P),P}Object.defineProperty(this,"xcene",{get:function(){return e}}),Object.defineProperty(this,"canvas",{get:function(){return u}}),Object.defineProperty(this,"webGLContext",{get:function(){return f}}),Object.defineProperty(this,"pixelRatio",{get:function(){return _}}),Object.defineProperty(this,"viewport",{get:function(){return O},set:function(e){(void 0===e||void 0===O||e.left!==O.left||e.bottom!==O.bottom||e.width!==O.width||e.height!==O.height)&&(O=e,f.viewport(O.left,O.bottom,O.width,O.height))}}),Object.defineProperty(this,"shaderProgram",{get:function(){return l},set:function(e){e!==l&&(l=e,f.useProgram(l))}}),this.resize=function(){var e=u.clientWidth,t=u.clientHeight;(u.width!=e||u.height!=t)&&(u.width=e,u.height=t,this.viewport=new S(0,0,u.width,u.height))},this.setUpVertexBuffer=function(e,t){f.bindBuffer(f.ARRAY_BUFFER,e),f.bufferData(f.ARRAY_BUFFER,new Float32Array(t),f.STATIC_DRAW)},this.setUpIndexBuffer=function(e,t){f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,e),f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),f.STATIC_DRAW)},this.clear=function(e,t,n,r){void 0!==t&&R.areEqual(t,T)===!1&&(T=t,f.clearColor(T.r,T.g,T.b,T.a)),void 0!==n&&n!==h&&(h=n,f.clearDepth(h)),void 0!==r&&r!==A&&(A=r,f.clearStencil(A)),void 0===e&&(e=p.DEFAULT_CLEAR_OPTIONS),f.clear(e)},this.drawPrimitives=function(e,t,n){f.drawArrays(e,t,n)},this.drawIndexedPrimitives=function(e,t,n,r){void 0===r&&(r=0),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,e),f.drawElements(t,n,f.UNSIGNED_SHORT,r)},this.getShaderAttributeLocation=function(e,t){return f.getAttribLocation(e,t)},this.getShaderUniformLocation=function(e,t){return f.getUniformLocation(e,t)},this.setShaderAttribute=function(e,t,n){f.enableVertexAttribArray(e),f.bindBuffer(f.ARRAY_BUFFER,t),f.vertexAttribPointer(e,n,f.FLOAT,!1,0,0)},this.setShaderSampler=function(e,t,n){void 0===n&&(n=p.DEFAULT_TEXTURE_UNIT),f.activeTexture(f.TEXTURE0+n),f.bindTexture(f.TEXTURE_2D,t),this.setShaderUniform(e,n)},this.setShaderUniform=function(e,t){t instanceof E==!0?f.uniformMatrix4fv(e,!1,new Float32Array(t.elements)):f.uniform1i(e,t)}}function x(){}function g(){}function L(){}function b(){}function N(){}function v(e){function t(){void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}())}function n(){window.addEventListener("resize",r)}function r(){i.resize()}try{Object.defineProperty(this,"settings",{get:function(){return e}});var i,o;i=new p(this),Object.defineProperty(this,"graphicsManager",{get:function(){return i}}),o=new u(this),Object.defineProperty(this,"assetManager",{get:function(){return o}}),t(),n(),r()}catch(a){throw console.error("Cybo.Xcene: "+a),a}this.run=function(e,t){function n(){requestAnimationFrame(n),void 0!==e&&e(),void 0!==t&&t()}n()}}function D(){}function I(){function e(){return(new Date).getTime()}var t=0,n=0;Object.defineProperty(this,"isRunning",{get:function(){return 0!==t?!0:!1}}),Object.defineProperty(this,"elapsedMilliseconds",{get:function(){return n+(this.isRunning===!0)?e()-t:0}}),this.start=function(){t=this.isRunning===!0?t:e()},this.stop=function(){n=this.isRunning===!0?n+(e()-t):n,t=0},this.reset=function(){t=0,n=0}}function C(e,t,n){var r,i,o;switch(e){case D.EASE_IN:r=-s.PI_OVER_TWO,i=0;break;case D.EASE_OUT:r=0,i=s.PI_OVER_TWO;break;case D.EASE_IN_OUT:r=-s.PI_OVER_TWO,i=s.PI_OVER_TWO;break;default:throw"A not-supported exception raised."}o=new I,Object.defineProperty(this,"easeMode",{get:function(){return e}}),Object.defineProperty(this,"duration",{get:function(){return t}}),Object.defineProperty(this,"sineOfStartAngle",{get:function(){return Math.sin(r)}}),Object.defineProperty(this,"sineOfCurrentAngle",{get:function(){var e=i-r;return Math.sin(r+e*this.ratioOfCurrentToTotalTimeOffset)}}),Object.defineProperty(this,"sineOfFinishAngle",{get:function(){return Math.sin(i)}}),Object.defineProperty(this,"ratioOfCurrentToTotalTimeOffset",{get:function(){if(n===!1)return this.isFinished===!0?1:o.elapsedMilliseconds/t;var e=o.elapsedMilliseconds%t;return e/t}}),Object.defineProperty(this,"ratioOfCurrentToTotalSineOfAngleOffset",{get:function(){var e=this.sineOfCurrentAngle-this.sineOfStartAngle,t=this.sineOfFinishAngle-this.sineOfStartAngle;return e/t}}),Object.defineProperty(this,"isRunning",{get:function(){return o.isRunning}}),Object.defineProperty(this,"isFinished",{get:function(){if(n===!0)return!1;var e=t<=o.elapsedMilliseconds?!0:!1;return e===!0&&o.stop(),e}}),this.start=function(){o.isRunning!==!0&&o.start()},this.pause=function(){o.isRunning!==!1&&o.stop()},this.resume=function(){o.isRunning!==!0&&o.start()},this.stop=function(){o.reset()}}t.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec4 vertexColor;","uniform mat4 transform;","varying vec4 color;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","color = vertexColor;","}"].join("\n"),t.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(t),n.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","uniform mat4 transform;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","}"].join("\n"),n.FRAGMENT_SHADER_SOURCE=["precision mediump float;","void main() {","gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","}"].join("\n"),Object.freeze(n),r.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec2 vertexTextureCoordinates;","uniform mat4 transform;","varying vec2 textureCoordinates;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),r.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(r),i.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","varying vec4 color;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","}"].join("\n"),i.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(i),o.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","attribute vec2 vertexTextureCoordinates;","varying vec4 color;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),o.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = color * texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(o),a.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec2 vertexTextureCoordinates;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),a.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(a),s.PI=3.141592653589793,s.PI_OVER_TWO=1.5707963267948966,s.PI_OVER_FOUR=.7853981633974483,s.TWO_PI=6.283185307179586,s.PI_OVER_ONE_EIGHTY=.0174532925199432,s.ONE_EIGHTY_OVER_PI=57.29577951308232,s.RADIANS_OF_FORTY_FIVE_DEGREES=s.PI_OVER_FOUR,s.RADIANS_OF_NINETY_DEGREES=s.PI_OVER_TWO,s.RADIANS_OF_ONE_EIGHTY_DEGREES=s.PI,s.RADIANS_OF_THREE_SIXTY_DEGREES=s.TWO_PI,s.EPSILON=1e-5,s.toRadians=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return s.PI_OVER_ONE_EIGHTY*e},s.toDegrees=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return s.ONE_EIGHTY_OVER_PI*e},s.isZero=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return e<=-s.EPSILON||s.EPSILON<=e?!1:!0},s.areEqual=function(e,t){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof t)throw"typeof(s2) !== 'number'";var n=e-t;return n<=-s.EPSILON||s.EPSILON<=n?!1:!0},s.isScalar1LessThanScalar2=function(e,t){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof t)throw"typeof(s2) !== 'number'";return e-t<=-s.EPSILON?!0:!1},s.isScalar1LessThanOrEqualToScalar2=function(e,t){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof t)throw"typeof(s2) !== 'number'";return e-t<s.EPSILON?!0:!1},s.isScalar1GreaterThanScalar2=function(e,t){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof t)throw"typeof(s2) !== 'number'";return s.EPSILON<=e-t?!0:!1},s.isScalar1GreaterThanOrEqualToScalar2=function(e,t){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof t)throw"typeof(s2) !== 'number'";return-s.EPSILON<e-t?!0:!1},s.isPowerOfTwo=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return 0!==e&&0===(e&e-1)?!0:!1},Object.freeze(s),c.VERTEX_SHADER=0,c.FRAGMENT_SHADER=1,Object.freeze(c),Object.freeze(u),f.X=0,f.Y=1,f.Z=2,Object.freeze(f),E.ELEMENT_COUNT=16,E.fromArray=function(e){return new E(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},E.createIdentityMatrix=function(){return new E(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},E.createViewMatrix=function(e,t,n){var r,i,o,a;a=T.negateVector(t),o=T.calculateUnitVectorOf(a),a=T.calculateCrossProductOf(n,o),r=T.calculateUnitVectorOf(a),i=T.calculateCrossProductOf(o,r);var s=r.x,c=i.x,u=o.x,f=0,_=r.y,O=i.y,l=o.y,h=0,A=r.z,P=i.z,d=o.z,R=0,y=-T.calculateDotProductOf(r,e),m=-T.calculateDotProductOf(i,e),w=-T.calculateDotProductOf(o,e),S=1;return new E(s,_,A,y,c,O,P,m,u,l,d,w,f,h,R,S)},E.createProjectionMatrix=function(e,t,n,r){void 0===e&&(e=P.FIELD_OF_VIEW_Y),void 0===n&&(n=P.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===r&&(r=P.DEFAULT_DISTANCE_TO_FAR_PLANE);var i,o;o=1/Math.tan(e/2),i=o/t;var a=[];return a[0]=i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=r/(n-r),a[11]=-1,a[12]=0,a[13]=0,a[14]=n*r/(n-r),a[15]=0,E.fromArray(a)},E.createScaleMatrix=function(e){return new E(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},E.createRotationMatrix=function(e,t){var n=Math.cos(t),r=Math.sin(t);switch(e){case f.X:return new E(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1);case f.Y:return new E(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1);case f.Z:return new E(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1);default:console.log("A not-supported exception raised.")}},E.createTranslationMatrix=function(e){return new E(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1)},E.multiplyMatrices=function(e,t){var n=e.elements,r=t.elements,i=[],o=n[0],a=n[4],s=n[8],c=n[12],u=n[1],f=n[5],_=n[9],O=n[13],l=n[2],T=n[6],h=n[10],A=n[14],P=n[3],d=n[7],R=n[11],y=n[15],m=r[0],w=r[4],S=r[8],p=r[12],x=r[1],g=r[5],L=r[9],b=r[13],N=r[2],v=r[6],D=r[10],I=r[14],C=r[3],U=r[7],H=r[11],F=r[15];return i[0]=o*m+a*x+s*N+c*C,i[4]=o*w+a*g+s*v+c*U,i[8]=o*S+a*L+s*D+c*H,i[12]=o*p+a*b+s*I+c*F,i[1]=u*m+f*x+_*N+O*C,i[5]=u*w+f*g+_*v+O*U,i[9]=u*S+f*L+_*D+O*H,i[13]=u*p+f*b+_*I+O*F,i[2]=l*m+T*x+h*N+A*C,i[6]=l*w+T*g+h*v+A*U,i[10]=l*S+T*L+h*D+A*H,i[14]=l*p+T*b+h*I+A*F,i[3]=P*m+d*x+R*N+y*C,i[7]=P*w+d*g+R*v+y*U,i[11]=P*S+d*L+R*D+y*H,i[15]=P*p+d*b+R*I+y*F,E.fromArray(i)},E.transposeMatrix=function(e){return new E(e.s11,e.s21,e.s31,e.s41,e.s12,e.s22,e.s32,e.s42,e.s13,e.s23,e.s33,e.s43,e.s14,e.s24,e.s34,e.s44)},E.invertMatrix=function(e){var t=e.s11,n=e.s12,r=e.s13,i=e.s14,o=e.s21,a=e.s22,s=e.s23,c=e.s24,u=e.s31,f=e.s32,_=e.s33,O=e.s34,l=e.s41,T=e.s42,h=e.s43,A=e.s44,P=s*O*T-c*_*T+c*f*h-a*O*h-s*f*A+a*_*A,d=i*_*T-r*O*T-i*f*h+n*O*h+r*f*A-n*_*A,R=r*c*T-i*s*T+i*a*h-n*c*h-r*a*A+n*s*A,y=i*s*f-r*c*f-i*a*_+n*c*_+r*a*O-n*s*O,m=t*P+o*d+u*R+l*y;if(0===m)throw"Can't invert matrix cuz determinant is 0";return m=1/m,E.fromArray([P*m,(c*_*l-s*O*l-c*u*h+o*O*h+s*u*A-o*_*A)*m,(a*O*l-c*f*l+c*u*T-o*O*T-a*u*A+o*f*A)*m,(s*f*l-a*_*l-s*u*T+o*_*T+a*u*h-o*f*h)*m,d*m,(r*O*l-i*_*l+i*u*h-t*O*h-r*u*A+t*_*A)*m,(i*f*l-n*O*l-i*u*T+t*O*T+n*u*A-t*f*A)*m,(n*_*l-r*f*l+r*u*T-t*_*T-n*u*h+t*f*h)*m,R*m,(i*s*l-r*c*l-i*o*h+t*c*h+r*o*A-t*s*A)*m,(n*c*l-i*a*l+i*o*T-t*c*T-n*o*A+t*a*A)*m,(r*a*l-n*s*l-r*o*T+t*s*T+n*o*h-t*a*h)*m,y*m,(r*c*u-i*s*u+i*o*_-t*c*_-r*o*O+t*s*O)*m,(i*a*u-n*c*u-i*o*f+t*c*f+n*o*O-t*a*O)*m,(n*s*u-r*a*u+r*o*f-t*s*f-n*o*_+t*a*_)*m])},E.areEqual=function(e,t){if(e instanceof E==!1||t instanceof E==!1)return!1;for(var n=e.elements,r=t.elements,i=0;i<E.ELEMENT_COUNT;i++)if(n[i]!==r[i])return!1;return!0},Object.freeze(E),_.prototype={toMatrix4x4:function(){var e=this.x,t=this.y,n=this.z,r=this.w,i=e*e,o=t*t,a=n*n,s=e*t,c=n*r,u=n*e,f=t*r,_=t*n,O=e*r,l=[1-2*(o+a),2*(s+c),2*(u-f),0,2*(s-c),1-2*(a+i),2*(_+O),0,2*(u+f),2*(_-O),1-2*(o+i),0,0,0,0,1];return E.fromArray(l)}},_.ELEMENT_COUNT=4,_.fromAxisAngle=function(e,t){e=T.calculateUnitVectorOf(e);var n=.5*t,r=Math.sin(n),i=Math.cos(n);return new _(e.x*r,e.y*r,e.z*r,i)},_.fromArray=function(e){return new _(e[0],e[1],e[2],e[3])},_.createIdentityQuaternion=function(){return new _(0,0,0,1)},_.calculateUnitQuaternionOf=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(t<s.EPSILON)return new _(0,0,0,0);var n=1/t;return new _(e.x*n,e.y*n,e.z*n,e.w*n)},_.areEqual=function(e,t){return e instanceof _==!1||t instanceof _==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(_),O.prototype={toArray:function(){return[this.x,this.y]}},O.ELEMENT_COUNT=2,O.fromArray=function(e){return new O(e[0],e[1])},O.calculateUnitVectorOf=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);if(t<s.EPSILON)return new O(0,0);var n=1/t;return new O(e.x*n,e.y*n)},O.negateVector=function(e){return new O(-e.x,-e.y)},O.addVectors=function(e,t){return new O(e.x+t.x,e.y+t.y)},O.subtractVectors=function(e,t){return new O(e.x-t.x,e.y-t.y)},O.multiplyVectorByScalar=function(e,t){return new O(e.x*t,e.y*t)},O.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},O.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y},O.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y},O.calculatePerpendicularVectorOf=function(e){return new O(-e.y,e.x)},O.calculatePerpendicularDotProductOf=function(e,t){return-e.y*t.x+e.x*t.y},O.areEqual=function(e,t){return e instanceof O==!1||t instanceof O==!1?!1:e.x!==t.x||e.y!==t.y?!1:!0},Object.freeze(O),l.prototype={toArray:function(){return[this.x,this.y,this.z,this.w]}},Object.defineProperty(l.prototype,"xyz",{get:function(){return new T(this.x,this.y,this.z)}}),l.ELEMENT_COUNT=4,l.fromArray=function(e){return new l(e[0],e[1],e[2],e[3])},l.calculateUnitVectorOf=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(t<s.EPSILON)return new l(0,0,0,0);var n=1/t;return new l(e.x*n,e.y*n,e.z*n,e.w*n)},l.addVectors=function(e,t){return new l(e.x+t.x,e.y+t.y,e.z+t.z,e.w+t.w)},l.subtractVectors=function(e,t){return new l(e.x-t.x,e.y-t.y,e.z-t.z,e.w-t.w)},l.multiplyVectorByScalar=function(e,t){return new l(e.x*t,e.y*t,e.z*t,e.w*t)},l.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w)},l.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},l.transform=function(e,t){return new l(e.s11*t.x+e.s12*t.y+e.s13*t.z+e.s14*t.w,e.s21*t.x+e.s22*t.y+e.s23*t.z+e.s24*t.w,e.s31*t.x+e.s32*t.y+e.s33*t.z+e.s34*t.w,e.s41*t.x+e.s42*t.y+e.s43*t.z+e.s44*t.w)},l.areEqual=function(e,t){return e instanceof l==!1||t instanceof l==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(l),T.prototype={toArray:function(){return[this.x,this.y,this.z]}},Object.defineProperty(T.prototype,"xy",{get:function(){return new O(this.x,this.y)}}),T.ELEMENT_COUNT=3,T.fromArray=function(e){return new T(e[0],e[1],e[2])},T.calculateUnitVectorOf=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);if(t<s.EPSILON)return new T(0,0,0);var n=1/t;return new T(e.x*n,e.y*n,e.z*n)},T.negateVector=function(e){return new T(-e.x,-e.y,-e.z)},T.addVectors=function(e,t){return new T(e.x+t.x,e.y+t.y,e.z+t.z)},T.subtractVectors=function(e,t){return new T(e.x-t.x,e.y-t.y,e.z-t.z)},T.multiplyVectorByScalar=function(e,t){return new T(e.x*t,e.y*t,e.z*t)},T.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},T.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},T.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},T.calculateCrossProductOf=function(e,t){return new T(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)},T.transformPoint=function(e,t){var n=new l(t.x,t.y,t.z,1),r=l.Transform(e,n),i=1/r.w;return new T(r.x*i,r.y*i,r.z*i)},T.transformVector=function(e,t){var n=new l(t.x,t.y,t.z,0);return t=l.Transform(e,n),new T(t.x,t.y,t.z)},T.transform=function(e,t){var n=t.X+t.X,r=t.Y+t.Y,i=t.Z+t.Z,o=t.W*n,a=t.W*r,s=t.W*i,c=t.X*n,u=t.X*r,f=t.X*i,E=t.Y*r,_=t.Y*i,O=t.Z*i,l=1-E-O,h=u-s,A=f+a,P=u+s,d=1-c-O,R=_-o,y=f-a,m=_+o,w=1-c-E;return new T(e.X*l+e.Y*h+e.Z*A,e.X*P+e.Y*d+e.Z*R,e.X*y+e.Y*m+e.Z*w)},T.areEqual=function(e,t){return e instanceof T==!1||t instanceof T==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z?!1:!0},Object.freeze(T),h.X_AXIS=new T(1,0,0),h.Y_AXIS=new T(0,1,0),h.Z_AXIS=new T(0,0,1),Object.freeze(h),Object.freeze(A),P.DEFAULT_FACING_DIRECTION=T.negateVector(h.Z_AXIS),P.DEFAULT_UP_DIRECTION=h.Y_AXIS,P.FIELD_OF_VIEW_Y=s.PI_OVER_FOUR,P.MIN_DISTANCE_TO_NEAR_PLANE=10,P.MAX_DISTANCE_TO_FAR_PLANE=1e6,P.DEFAULT_DISTANCE_TO_NEAR_PLANE=P.MIN_DISTANCE_TO_NEAR_PLANE,P.DEFAULT_DISTANCE_TO_FAR_PLANE=1e5,Object.freeze(P),d.COLOR_BUFFER=16384,d.DEPTH_BUFFER=256,d.STENCIL_BUFFER=1024,Object.freeze(d),R.prototype={toArray:function(){return[this.r,this.g,this.b,this.a]}},R.areEqual=function(e,t){return e instanceof R==!1||t instanceof R==!1?!1:e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a?!1:!0},Object.freeze(R),y.DEFAULT_BACKGROUND=new R(32/255,32/255,32/255,1),y.BLACK=new R(0,0,0,1),y.WHITE=new R(1,1,1,1),y.TRANSPARENT=new R(1,1,1,0),y.SKY_BLUE=new R(135/255,206/255,235/255,1),y.CADET_BLUE=new R(95/255,158/255,160/255,1),y.PINK=new R(1,192/255,203/255,1),y.PHOTOSHOP_DARK_RED=new R(157/255,10/255,14/255,1),y.PHOTOSHOP_PASTEL_RED_ORANGE=new R(255,173/255,129/255,1),y.PHOTOSHOP_DARK_RED_ORANGE=new R(255,65/255,13/255,1),y.PHOTOSHOP_PASTEL_YELLOW_ORANGE=new R(253/255,198/255,137/255,1),y.PHOTOSHOP_DARK_YELLOW_ORANGE=new R(163/255,97/255,9/255,1),y.PHOTOSHOP_PASTEL_YELLOW=new R(1,247/255,.6,1),y.PHOTOSHOP_DARK_YELLOW=new R(171/255,160/255,0,1),y.PHOTOSHOP_PASTEL_PEA_GREEN=new R(196/255,223/255,155/255,1),y.PHOTOSHOP_DARK_PEA_GREEN=new R(89/255,133/255,39/255,1),y.PHOTOSHOP_PASTEL_YELLOW_GREEN=new R(162/255,211/255,156/255,1),y.PHOTOSHOP_DARK_YELLOW_GREEN=new R(25/255,122/255,48/255,1),y.PHOTOSHOP_PASTEL_GREEN=new R(130/255,202/255,156/255,1),y.PHOTOSHOP_DARK_GREEN=new R(0,114/255,54/255,1),y.PHOTOSHOP_PASTEL_GREEN_CYAN=new R(122/255,.8,200/255,1),y.PHOTOSHOP_DARK_GREEN_CYAN=new R(0,115/255,106/255,1),y.PHOTOSHOP_PASTEL_CYAN=new R(109/255,207/255,246/255,1),y.PHOTOSHOP_DARK_CYAN=new R(0,118/255,163/255,1),y.PHOTOSHOP_PASTEL_CYAN_BLUE=new R(125/255,167/255,216/255,1),y.PHOTOSHOP_DARK_CYAN_BLUE=new R(0,74/255,128/255,1),y.PHOTOSHOP_PASTEL_BLUE=new R(131/255,147/255,202/255,1),y.PHOTOSHOP_DARK_BLUE=new R(0,52/255,113/255,1),y.PHOTOSHOP_PASTEL_BLUE_VIOLET=new R(135/255,129/255,189/255,1),y.PHOTOSHOP_DARK_BLUE_VIOLET=new R(27/255,20/255,100/255,1),y.PHOTOSHOP_PASTEL_VIOLET=new R(161/255,134/255,190/255,1),y.PHOTOSHOP_DARK_VIOLET=new R(68/255,14/255,98/255,1),y.PHOTOSHOP_PASTEL_VIOLET_MAGENTA=new R(188/255,140/255,191/255,1),y.PHOTOSHOP_DARK_VIOLET_MAGENTA=new R(98/255,4/255,96/255,1),y.PHOTOSHOP_PASTEL_MAGENTA=new R(244/255,154/255,193/255,1),y.PHOTOSHOP_DARK_MAGENTA=new R(158/255,0,93/255,1),y.PHOTOSHOP_PASTEL_MAGENTA_RED=new R(245/255,152/255,157/255,1),y.PHOTOSHOP_DARK_MAGENTA_RED=new R(157/255,0,57/255,1),y.PHOTOSHOP_PALE_COOL_BROWN=new R(199/255,178/255,.6,1),y.PHOTOSHOP_DARK_COOL_BROWN=new R(83/255,71/255,65/255,1),y.PHOTOSHOP_PALE_WARM_BROWN=new R(198/255,156/255,109/255,1),y.PHOTOSHOP_DARK_WARM_BROWN=new R(117/255,76/255,36/255,1),y.OSX_SOLID_KELP=new R(89/255,136/255,123/255,1),Object.freeze(y),m.NEAR_CLIP_PLANE=0,m.FAR_CLIP_PLANE=1,Object.freeze(m),w.MIN_X=-1,w.MAX_X=1,w.MIN_Y=-1,w.MAX_Y=1,w.MIN_Z=-1,w.MAX_Z=1,Object.freeze(w),Object.freeze(S),p.DEFAULT_CLEAR_OPTIONS=d.COLOR_BUFFER|d.DEPTH_BUFFER,p.DEFAULT_CLEAR_COLOR=y.DEFAULT_BACKGROUND,p.DEFAULT_CLEAR_DEPTH=1,p.DEFAULT_CLEAR_STENCIL=0,p.DEFAULT_TEXTURE_UNIT=0,Object.freeze(p),x.LINE_LIST=1,x.LINE_STRIP=3,x.TRIANGLE_LIST=4,x.TRIANGLE_STRIP=5,Object.freeze(x),g.toUV=function(e,t){return{u:e,v:1-t}},g.toST=function(e,t){return{s:e,t:1-t}},Object.freeze(g),L.displayMessageOf=function(e){alert(e)},Object.freeze(L),b.LEFT=0,b.MIDDLE=1,b.RIGHT=2,Object.freeze(b),Object.freeze(N),Object.freeze(v),D.EASE_IN=0,D.EASE_OUT=1,D.EASE_IN_OUT=2,Object.freeze(D),Object.freeze(I),Object.freeze(C),e.PositionColor=t,e.PositionOnly=n,e.PositionTextureCoordinates=r,e.TransformedPositionColor=i,e.TransformedPositionColorTextureCoordinates=o,e.TransformedPositionTextureCoordinates=a,e.AssetManager=u,e.Camera=P,e.ClearOptions=d,e.Color=R,e.Colors=y,e.DepthBufferValues=m,e.GraphicsManager=p,e.NormalizedDeviceCoordinates=w,e.PrimitiveType=x,e.ShaderType=c,e.TextureCoordinateHelper=g,e.ExceptionHelper=L,e.MouseButton=b,e.AxisGroup=h,e.MathHelper=s,e.Vector2D=O,e.Vector3D=T,e.Vector4D=l,e.Matrix4x4=E,e.CartesianAxis=f,e.Plane=N,e.Quaternion=_,e.ViewFrustum=A,e.Xcene=v,e.EaseMode=D,e.SineEase=C,e.Stopwatch=I}(this.Cybo=this.Cybo||{});
