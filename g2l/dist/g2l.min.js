!function(e){"use strict";function t(){}function n(){}function r(e,t,n,r,i,o,u,c,a,s,f,E,_,O,l,T){this.elements=[e,i,a,_,t,o,s,O,n,u,f,l,r,c,E,T],Object.defineProperty(this,"s11",{get:function(){return this.elements[0]}}),Object.defineProperty(this,"s12",{get:function(){return this.elements[4]}}),Object.defineProperty(this,"s13",{get:function(){return this.elements[8]}}),Object.defineProperty(this,"s14",{get:function(){return this.elements[12]}}),Object.defineProperty(this,"s21",{get:function(){return this.elements[1]}}),Object.defineProperty(this,"s22",{get:function(){return this.elements[5]}}),Object.defineProperty(this,"s23",{get:function(){return this.elements[9]}}),Object.defineProperty(this,"s24",{get:function(){return this.elements[13]}}),Object.defineProperty(this,"s31",{get:function(){return this.elements[2]}}),Object.defineProperty(this,"s32",{get:function(){return this.elements[6]}}),Object.defineProperty(this,"s33",{get:function(){return this.elements[10]}}),Object.defineProperty(this,"s34",{get:function(){return this.elements[14]}}),Object.defineProperty(this,"s41",{get:function(){return this.elements[3]}}),Object.defineProperty(this,"s42",{get:function(){return this.elements[7]}}),Object.defineProperty(this,"s43",{get:function(){return this.elements[11]}}),Object.defineProperty(this,"s44",{get:function(){return this.elements[15]}})}function i(e,t,n,r){this.x=e,this.y=t,this.z=n,this.w=r}function o(e,t){this.x=e,this.y=t}function u(e,t,n,r){this.x=e,this.y=t,this.z=n,this.w=r}function c(e,t,n){this.x=e,this.y=t,this.z=n}function a(){}function s(){}function f(e,n,i,o,u,a){function E(){d!==!1&&(T=r.createViewMatrix(n,i,o),y=!0,d=!1)}function _(){var e=l.clientWidth/l.clientHeight;(R!==!1||t.areEqual(e,w)!==!0)&&(w=e,A=r.createProjectionMatrix(f.FIELD_OF_VIEW_Y,w,u,a),y=!0,R=!1)}var O,l,T,A,h,P,d,R,y,w;try{O=this,void 0===n&&(n=new c(0,0,1e4)),void 0===i&&(i=f.DEFAULT_FACING_DIRECTION),void 0===o&&(o=f.DEFAULT_UP_DIRECTION),void 0===u&&(u=f.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===a&&(a=f.DEFAULT_DISTANCE_TO_FAR_PLANE),u<f.MIN_DISTANCE_TO_NEAR_PLANE&&(u=f.MIN_DISTANCE_TO_NEAR_PLANE),f.MAX_DISTANCE_TO_FAR_PLANE<a&&(a=f.MAX_DISTANCE_TO_FAR_PLANE),l=e.canvas,P=new s,Object.defineProperty(this,"position",{get:function(){return n}}),Object.defineProperty(this,"facingDirection",{get:function(){return i}}),Object.defineProperty(this,"upDirection",{get:function(){return o}}),Object.defineProperty(this,"distanceToNearPlane",{get:function(){return u}}),Object.defineProperty(this,"distanceToFarPlane",{get:function(){return a}}),Object.defineProperty(this,"viewFrustum",{get:function(){return P}}),d=!0,R=!0,y=!0}catch(g){throw console.log("g2l.Camera: ",g),g}this.zoom=function(e){var t=c.multiplyVectorByScalar(c.calculateUnitVectorOf(i),e);n=c.addVectors(n,t),d=!0},this.getPosition=function(){return n},this.getFacingDirection=function(){return i},this.getUpDirection=function(){return o},this.getUpDirection=function(){return o},this.getDistanceToNearPlane=function(e){return u},this.getDistanceToFarPlane=function(e){return a},this.getProjectionMatrix=function(e){_(),e.elements=A.elements.slice()},this.getTransform=function(e){E(),_(),y===!0&&(h=r.multiplyMatrices(A,T)),e.elements=h.elements.slice(),y===!0&&(y=!1)}}function E(){}function _(){}function O(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r}function l(){}function T(){}function A(e){function t(){if(void 0!==e&&void 0!==e.canvas)_=e.canvas;else{if(void 0===document.body)throw"document.body === undefined";_=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),_.width=A.CANVAS_WIDTH,_.height=A.CANVAS_HEIGHT}}function n(){if(void 0===e||e.usesDefaultStyles!==!1){var t=_.style;t.width="100%",t.height="100%",t.display="block"}}function i(){if(l=_.getContext("webgl"),null===l){if(l=_.getContext("experimental-webgl"),null===l)throw alert("Unable to initialize WebGL. Your browser may not support it."),"A WebGL-not-supported exception raised.";console.log("Your browser supports WebGL. \n\nHowever, it indicates the support is experimental. That is, not all WebGL functionality may be supported, and content may not run as expected.")}l.depthRange(T.NEAR_CLIP_PLANE,T.FAR_CLIP_PLANE),P=A.DEFAULT_CLEAR_COLOR,d=A.DEFAULT_CLEAR_DEPTH,R=A.DEFAULT_CLEAR_STENCIL,l.clearColor(P.r,P.g,P.b,P.a),l.clearDepth(d),l.clearStencil(R),o(),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!0)}function o(){u(),c(),a(),s()}function u(){l.disable(l.BLEND)}function c(){l.enable(l.DEPTH_TEST),l.depthFunc(l.LEQUAL),l.disable(l.STENCIL_TEST)}function a(){}function s(){l.enable(l.CULL_FACE),l.cullFace(l.BACK)}function f(){void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}())}var E,_,l,h,P,d,R;try{E=this,t(),n(),i(),f()}catch(y){throw console.log("g2l.Renderer: "+y),y}Object.defineProperty(this,"canvas",{get:function(){return _}}),Object.defineProperty(this,"gl",{get:function(){return l}}),Object.defineProperty(this,"program",{get:function(){return h},set:function(e){e!==h&&(h=e,l.useProgram(h.webGLProgram))}}),this.run=function(e,t){function n(){requestAnimationFrame(n),void 0!==e&&e(),void 0!==t&&t()}n()},this.clear=function(e,t,n,r){void 0!==t&&O.areEqual(t,P)===!1&&(P=t,l.clearColor(P.r,P.g,P.b,P.a)),void 0!==n&&n!==d&&(d=n,l.clearDepth(d)),void 0!==r&&r!==R&&(R=r,l.clearStencil(R)),void 0===e&&(e=A.DEFAULT_CLEAR_OPTIONS),l.clear(e)},this.drawPrimitives=function(e,t,n){l.drawArrays(e,t,n)},this.drawIndexedPrimitives=function(e,t,n,r){void 0===r&&(r=0),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,e.webGLBuffer),l.drawElements(t,n,l.UNSIGNED_SHORT,r)},this.getAttributeLocation=function(e,t){return l.getAttribLocation(e.webGLProgram,t)},this.getUniformLocation=function(e,t){return l.getUniformLocation(e.webGLProgram,t)},this.setAttribute=function(e,t){l.bindBuffer(l.ARRAY_BUFFER,t.webGLBuffer),l.vertexAttribPointer(e,t.size,l.FLOAT,!1,0,0),l.enableVertexAttribArray(e)},this.setSampler=function(e,t,n){void 0===n&&(n=A.DEFAULT_TEXTURE_UNIT),l.activeTexture(l.TEXTURE0+n),l.bindTexture(l.TEXTURE_2D,t.webGLTexture),this.setUniform(e,n)},this.setUniform=function(e,t){t instanceof r==!0?l.uniformMatrix4fv(e,!1,new Float32Array(t.elements)):l.uniform1i(e,t)}}function h(e){var t;try{t=e.gl.createBuffer()}catch(n){throw console.log("g2l.IndexBuffer: "+n),n}Object.defineProperty(this,"loader",{get:function(){return e}}),Object.defineProperty(this,"webGLBuffer",{get:function(){return t}})}function P(){}function d(){}function R(){}function y(){}function w(){}function g(e){var t;try{t=e.gl.createProgram()}catch(n){throw console.log("g2l.Program: "+n),n}Object.defineProperty(this,"loader",{get:function(){return e}}),Object.defineProperty(this,"webGLProgram",{get:function(){return t}})}function m(){}function p(){}function S(e){var t,n,r,i;try{t=this,n=e.createTexture()}catch(o){throw console.log("g2l.Texture2D: "+o),o}Object.defineProperty(this,"gl",{get:function(){return e}}),Object.defineProperty(this,"webGLTexture",{get:function(){return n}}),Object.defineProperty(this,"width",{get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"height",{get:function(){return i},set:function(e){i=e}})}function x(e){var t,n,r;try{t=e.gl.createTexture()}catch(i){throw console.log("g2l.Texture2D: "+i),i}Object.defineProperty(this,"loader",{get:function(){return e}}),Object.defineProperty(this,"webGLTexture",{get:function(){return t}}),Object.defineProperty(this,"width",{get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=e}})}function b(){}function L(){}function N(){}function v(){}function D(e){var t,n;try{t=e.gl.createBuffer()}catch(r){throw console.log("g2l.VertexBuffer: "+r),r}Object.defineProperty(this,"loader",{get:function(){return e}}),Object.defineProperty(this,"webGLBuffer",{get:function(){return t}}),Object.defineProperty(this,"size",{get:function(){return n},set:function(e){n=e}})}function I(){}function C(){var e,t,n,r,i;try{e=C.FRAME_COUNT_TO_AVERAGE,t=[],n=0,r=0,i=0;for(var o=0;o<C.FRAME_COUNT_TO_AVERAGE;o++)t[o]=1}catch(u){throw console.log("g2l.Fps: "+u),u}Object.defineProperty(this,"average",{get:function(){return i}}),this.update=function(){var o=(new Date).getTime(),u=.001*(o-r);r=o,e+=u-t[n],t[n]=u,n++,n===C.FRAME_COUNT_TO_AVERAGE&&(n=0),i=Math.floor(1/(e/C.FRAME_COUNT_TO_AVERAGE)+.5)}}function F(){}function U(e){function n(e,t){var n;if(e===p.VERTEX_SHADER)n=u.createShader(u.VERTEX_SHADER);else{if(e!==p.FRAGMENT_SHADER)return null;n=u.createShader(u.FRAGMENT_SHADER)}if(u.shaderSource(n,t),u.compileShader(n),u.getShaderParameter(n,u.COMPILE_STATUS)===!1){var r=u.getShaderInfoLog(n);throw u.deleteShader(n),"An error occurred compiling the shaders: "+r}return n}function r(e){var t=document.getElementById(e);if(null===t)return null;for(var n="",r=t.firstChild;null!==r;)r.nodeType===Node.TEXT_NODE&&(n+=r.textContent),r=r.nextSibling;var i;if("x-shader/x-vertex"===t.type)i=u.createShader(u.VERTEX_SHADER);else{if("x-shader/x-fragment"!==t.type)return null;i=u.createShader(u.FRAGMENT_SHADER)}if(u.shaderSource(i,n),u.compileShader(i),u.getShaderParameter(i,u.COMPILE_STATUS)===!1){var o=u.getShaderInfoLog(i);throw u.deleteShader(i),"An error occurred compiling the shaders: "+o}return i}function i(e,t){var n=new g(o),r=n.webGLProgram;if(u.attachShader(r,e),u.attachShader(r,t),u.linkProgram(r),u.getProgramParameter(r,u.LINK_STATUS)===!1){var i=u.getProgramInfoLog(r);throw u.deleteProgram(r),"Unable to initialize the (shader) program: "+i}return n}var o,u;try{o=this,u=e.gl}catch(c){throw console.log("g2l.Loader: "+c),c}Object.defineProperty(this,"gl",{get:function(){return u}}),this.createVertexBuffer=function(){return new D(o)},this.createIndexBuffer=function(){return new h(o)},this.setUpProgram=function(e,t){var r=n(p.VERTEX_SHADER,e),o=n(p.FRAGMENT_SHADER,t);return i(r,o)},this.setUpProgramFromHtmlElements=function(e,t){var n=r(p.VERTEX_SHADER,e),o=r(p.FRAGMENT_SHADER,t);return i(n,o)},this.loadTexture2D=function(e){function n(e,n){u.bindTexture(u.TEXTURE_2D,n.webGLTexture),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,e),t.isPowerOfTwo(e.width)===!0&&t.isPowerOfTwo(e.height)===!0?(u.generateMipmap(u.TEXTURE_2D),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR_MIPMAP_LINEAR)):u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.bindTexture(u.TEXTURE_2D,null),n.width=e.width,n.height=e.height}var r=new Image,i=new x(o);return r.addEventListener("load",function(){n(r,i)}),r.src=e,i}}function H(){}function z(){}function j(){function e(){return(new Date).getTime()}var t=0,n=0;Object.defineProperty(this,"isRunning",{get:function(){return 0!==t?!0:!1}}),Object.defineProperty(this,"elapsedMilliseconds",{get:function(){return n+(this.isRunning===!0)?e()-t:0}}),this.start=function(){t=this.isRunning===!0?t:e()},this.stop=function(){n=this.isRunning===!0?n+(e()-t):n,t=0},this.reset=function(){t=0,n=0}}function M(e,n,r){var i,o,u;switch(e){case z.EASE_IN:i=-t.PI_OVER_TWO,o=0;break;case z.EASE_OUT:i=0,o=t.PI_OVER_TWO;break;case z.EASE_IN_OUT:i=-t.PI_OVER_TWO,o=t.PI_OVER_TWO;break;default:throw"A not-supported exception raised."}u=new j,Object.defineProperty(this,"easeMode",{get:function(){return e}}),Object.defineProperty(this,"duration",{get:function(){return n}}),Object.defineProperty(this,"sineOfStartAngle",{get:function(){return Math.sin(i)}}),Object.defineProperty(this,"sineOfCurrentAngle",{get:function(){var e=o-i;return Math.sin(i+e*this.ratioOfCurrentToTotalTimeOffset)}}),Object.defineProperty(this,"sineOfFinishAngle",{get:function(){return Math.sin(o)}}),Object.defineProperty(this,"ratioOfCurrentToTotalTimeOffset",{get:function(){if(r===!1)return this.isFinished===!0?1:u.elapsedMilliseconds/n;var e=u.elapsedMilliseconds%n;return e/n}}),Object.defineProperty(this,"ratioOfCurrentToTotalSineOfAngleOffset",{get:function(){var e=this.sineOfCurrentAngle-this.sineOfStartAngle,t=this.sineOfFinishAngle-this.sineOfStartAngle;return e/t}}),Object.defineProperty(this,"isRunning",{get:function(){return u.isRunning}}),Object.defineProperty(this,"isFinished",{get:function(){if(r===!0)return!1;var e=n<=u.elapsedMilliseconds?!0:!1;return e===!0&&u.stop(),e}}),this.start=function(){u.isRunning!==!0&&u.start()},this.pause=function(){u.isRunning!==!1&&u.stop()},this.resume=function(){u.isRunning!==!0&&u.start()},this.stop=function(){u.reset()}}t.PI=3.141592653589793,t.PI_OVER_TWO=1.5707963267948966,t.PI_OVER_FOUR=.7853981633974483,t.TWO_PI=6.283185307179586,t.PI_OVER_ONE_EIGHTY=.0174532925199432,t.ONE_EIGHTY_OVER_PI=57.29577951308232,t.RADIANS_OF_FORTY_FIVE_DEGREES=t.PI_OVER_FOUR,t.RADIANS_OF_NINETY_DEGREES=t.PI_OVER_TWO,t.RADIANS_OF_ONE_EIGHTY_DEGREES=t.PI,t.RADIANS_OF_THREE_SIXTY_DEGREES=t.TWO_PI,t.EPSILON=1e-5,t.toRadians=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return t.PI_OVER_ONE_EIGHTY*e},t.toDegrees=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return t.ONE_EIGHTY_OVER_PI*e},t.isZero=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return e<=-t.EPSILON||t.EPSILON<=e?!1:!0},t.areEqual=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";var r=e-n;return r<=-t.EPSILON||t.EPSILON<=r?!1:!0},t.isScalar1LessThanScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return e-n<=-t.EPSILON?!0:!1},t.isScalar1LessThanOrEqualToScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return e-n<t.EPSILON?!0:!1},t.isScalar1GreaterThanScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return t.EPSILON<=e-n?!0:!1},t.isScalar1GreaterThanOrEqualToScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return-t.EPSILON<e-n?!0:!1},t.isPowerOfTwo=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return 0!==e&&0===(e&e-1)?!0:!1},Object.freeze(t),n.X=0,n.Y=1,n.Z=2,Object.freeze(n),r.ELEMENT_COUNT=16,r.fromArray=function(e){return new r(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},r.createIdentityMatrix=function(){return new r(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},r.createViewMatrix=function(e,t,n){var i,o,u,a;a=c.negateVector(t),u=c.calculateUnitVectorOf(a),a=c.calculateCrossProductOf(n,u),i=c.calculateUnitVectorOf(a),o=c.calculateCrossProductOf(u,i);var s=i.x,f=o.x,E=u.x,_=0,O=i.y,l=o.y,T=u.y,A=0,h=i.z,P=o.z,d=u.z,R=0,y=-c.calculateDotProductOf(i,e),w=-c.calculateDotProductOf(o,e),g=-c.calculateDotProductOf(u,e),m=1;return new r(s,O,h,y,f,l,P,w,E,T,d,g,_,A,R,m)},r.createProjectionMatrix=function(e,t,n,i){void 0===e&&(e=f.FIELD_OF_VIEW_Y),void 0===n&&(n=f.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===i&&(i=f.DEFAULT_DISTANCE_TO_FAR_PLANE);var o,u;u=1/Math.tan(e/2),o=u/t;var c=[];return c[0]=o,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=u,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=i/(n-i),c[11]=-1,c[12]=0,c[13]=0,c[14]=n*i/(n-i),c[15]=0,r.fromArray(c)},r.createScaleMatrix=function(e){return new r(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},r.createRotationMatrix=function(e,t){var i=Math.cos(t),o=Math.sin(t);switch(e){case n.X:return new r(1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1);case n.Y:return new r(i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1);case n.Z:return new r(i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1);default:console.log("A not-supported exception raised.")}},r.createTranslationMatrix=function(e){return new r(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1)},r.multiplyMatrices=function(e,t){var n=e.elements,i=t.elements,o=[],u=n[0],c=n[4],a=n[8],s=n[12],f=n[1],E=n[5],_=n[9],O=n[13],l=n[2],T=n[6],A=n[10],h=n[14],P=n[3],d=n[7],R=n[11],y=n[15],w=i[0],g=i[4],m=i[8],p=i[12],S=i[1],x=i[5],b=i[9],L=i[13],N=i[2],v=i[6],D=i[10],I=i[14],C=i[3],F=i[7],U=i[11],H=i[15];return o[0]=u*w+c*S+a*N+s*C,o[4]=u*g+c*x+a*v+s*F,o[8]=u*m+c*b+a*D+s*U,o[12]=u*p+c*L+a*I+s*H,o[1]=f*w+E*S+_*N+O*C,o[5]=f*g+E*x+_*v+O*F,o[9]=f*m+E*b+_*D+O*U,o[13]=f*p+E*L+_*I+O*H,o[2]=l*w+T*S+A*N+h*C,o[6]=l*g+T*x+A*v+h*F,o[10]=l*m+T*b+A*D+h*U,o[14]=l*p+T*L+A*I+h*H,o[3]=P*w+d*S+R*N+y*C,o[7]=P*g+d*x+R*v+y*F,o[11]=P*m+d*b+R*D+y*U,o[15]=P*p+d*L+R*I+y*H,r.fromArray(o)},r.transposeMatrix=function(e){return new r(e.s11,e.s21,e.s31,e.s41,e.s12,e.s22,e.s32,e.s42,e.s13,e.s23,e.s33,e.s43,e.s14,e.s24,e.s34,e.s44)},r.invertMatrix=function(e){var t=e.s11,n=e.s12,i=e.s13,o=e.s14,u=e.s21,c=e.s22,a=e.s23,s=e.s24,f=e.s31,E=e.s32,_=e.s33,O=e.s34,l=e.s41,T=e.s42,A=e.s43,h=e.s44,P=a*O*T-s*_*T+s*E*A-c*O*A-a*E*h+c*_*h,d=o*_*T-i*O*T-o*E*A+n*O*A+i*E*h-n*_*h,R=i*s*T-o*a*T+o*c*A-n*s*A-i*c*h+n*a*h,y=o*a*E-i*s*E-o*c*_+n*s*_+i*c*O-n*a*O,w=t*P+u*d+f*R+l*y;if(0===w)throw"Can't invert matrix cuz determinant is 0";return w=1/w,r.fromArray([P*w,(s*_*l-a*O*l-s*f*A+u*O*A+a*f*h-u*_*h)*w,(c*O*l-s*E*l+s*f*T-u*O*T-c*f*h+u*E*h)*w,(a*E*l-c*_*l-a*f*T+u*_*T+c*f*A-u*E*A)*w,d*w,(i*O*l-o*_*l+o*f*A-t*O*A-i*f*h+t*_*h)*w,(o*E*l-n*O*l-o*f*T+t*O*T+n*f*h-t*E*h)*w,(n*_*l-i*E*l+i*f*T-t*_*T-n*f*A+t*E*A)*w,R*w,(o*a*l-i*s*l-o*u*A+t*s*A+i*u*h-t*a*h)*w,(n*s*l-o*c*l+o*u*T-t*s*T-n*u*h+t*c*h)*w,(i*c*l-n*a*l-i*u*T+t*a*T+n*u*A-t*c*A)*w,y*w,(i*s*f-o*a*f+o*u*_-t*s*_-i*u*O+t*a*O)*w,(o*c*f-n*s*f-o*u*E+t*s*E+n*u*O-t*c*O)*w,(n*a*f-i*c*f+i*u*E-t*a*E-n*u*_+t*c*_)*w])},r.areEqual=function(e,t){if(e instanceof r==!1||t instanceof r==!1)return!1;for(var n=e.elements,i=t.elements,o=0;o<r.ELEMENT_COUNT;o++)if(n[o]!==i[o])return!1;return!0},Object.freeze(r),i.prototype={toMatrix4x4:function(){var e=this.x,t=this.y,n=this.z,i=this.w,o=e*e,u=t*t,c=n*n,a=e*t,s=n*i,f=n*e,E=t*i,_=t*n,O=e*i,l=[1-2*(u+c),2*(a+s),2*(f-E),0,2*(a-s),1-2*(c+o),2*(_+O),0,2*(f+E),2*(_-O),1-2*(u+o),0,0,0,0,1];return r.fromArray(l)}},i.ELEMENT_COUNT=4,i.fromAxisAngle=function(e,t){e=c.calculateUnitVectorOf(e);var n=.5*t,r=Math.sin(n),o=Math.cos(n);return new i(e.x*r,e.y*r,e.z*r,o)},i.fromArray=function(e){return new i(e[0],e[1],e[2],e[3])},i.createIdentityQuaternion=function(){return new i(0,0,0,1)},i.calculateUnitQuaternionOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(n<t.EPSILON)return new i(0,0,0,0);var r=1/n;return new i(e.x*r,e.y*r,e.z*r,e.w*r)},i.areEqual=function(e,t){return e instanceof i==!1||t instanceof i==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(i),o.prototype={toArray:function(){return[this.x,this.y]}},o.ELEMENT_COUNT=2,o.fromArray=function(e){return new o(e[0],e[1])},o.calculateUnitVectorOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y);if(n<t.EPSILON)return new o(0,0);var r=1/n;return new o(e.x*r,e.y*r)},o.negateVector=function(e){return new o(-e.x,-e.y)},o.addVectors=function(e,t){return new o(e.x+t.x,e.y+t.y)},o.subtractVectors=function(e,t){return new o(e.x-t.x,e.y-t.y)},o.multiplyVectorByScalar=function(e,t){return new o(e.x*t,e.y*t)},o.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y},o.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y},o.calculatePerpendicularVectorOf=function(e){return new o(-e.y,e.x)},o.calculatePerpendicularDotProductOf=function(e,t){return-e.y*t.x+e.x*t.y},o.areEqual=function(e,t){return e instanceof o==!1||t instanceof o==!1?!1:e.x!==t.x||e.y!==t.y?!1:!0},Object.freeze(o),u.prototype={toArray:function(){return[this.x,this.y,this.z,this.w]}},Object.defineProperty(u.prototype,"xyz",{get:function(){return new c(this.x,this.y,this.z)}}),u.ELEMENT_COUNT=4,u.fromArray=function(e){return new u(e[0],e[1],e[2],e[3])},u.calculateUnitVectorOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(n<t.EPSILON)return new u(0,0,0,0);var r=1/n;return new u(e.x*r,e.y*r,e.z*r,e.w*r)},u.addVectors=function(e,t){return new u(e.x+t.x,e.y+t.y,e.z+t.z,e.w+t.w)},u.subtractVectors=function(e,t){return new u(e.x-t.x,e.y-t.y,e.z-t.z,e.w-t.w)},u.multiplyVectorByScalar=function(e,t){return new u(e.x*t,e.y*t,e.z*t,e.w*t)},u.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w)},u.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},u.transform=function(e,t){return new u(e.s11*t.x+e.s12*t.y+e.s13*t.z+e.s14*t.w,e.s21*t.x+e.s22*t.y+e.s23*t.z+e.s24*t.w,e.s31*t.x+e.s32*t.y+e.s33*t.z+e.s34*t.w,e.s41*t.x+e.s42*t.y+e.s43*t.z+e.s44*t.w)},u.areEqual=function(e,t){return e instanceof u==!1||t instanceof u==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(u),c.prototype={toArray:function(){return[this.x,this.y,this.z]}},Object.defineProperty(c.prototype,"xy",{get:function(){return new o(this.x,this.y)}}),c.ELEMENT_COUNT=3,c.fromArray=function(e){return new c(e[0],e[1],e[2])},c.calculateUnitVectorOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);if(n<t.EPSILON)return new c(0,0,0);var r=1/n;return new c(e.x*r,e.y*r,e.z*r)},c.negateVector=function(e){return new c(-e.x,-e.y,-e.z)},c.addVectors=function(e,t){return new c(e.x+t.x,e.y+t.y,e.z+t.z)},c.subtractVectors=function(e,t){return new c(e.x-t.x,e.y-t.y,e.z-t.z)},c.multiplyVectorByScalar=function(e,t){return new c(e.x*t,e.y*t,e.z*t)},c.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},c.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},c.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},c.calculateCrossProductOf=function(e,t){return new c(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)},c.transformPoint=function(e,t){var n=new u(t.x,t.y,t.z,1),r=u.Transform(e,n),i=1/r.w;return new c(r.x*i,r.y*i,r.z*i)},c.transformVector=function(e,t){var n=new u(t.x,t.y,t.z,0);return t=u.Transform(e,n),new c(t.x,t.y,t.z)},c.transform=function(e,t){var n=t.X+t.X,r=t.Y+t.Y,i=t.Z+t.Z,o=t.W*n,u=t.W*r,a=t.W*i,s=t.X*n,f=t.X*r,E=t.X*i,_=t.Y*r,O=t.Y*i,l=t.Z*i,T=1-_-l,A=f-a,h=E+u,P=f+a,d=1-s-l,R=O-o,y=E-u,w=O+o,g=1-s-_;return new c(e.X*T+e.Y*A+e.Z*h,e.X*P+e.Y*d+e.Z*R,e.X*y+e.Y*w+e.Z*g)},c.areEqual=function(e,t){return e instanceof c==!1||t instanceof c==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z?!1:!0},Object.freeze(c),a.X_AXIS=new c(1,0,0),a.Y_AXIS=new c(0,1,0),a.Z_AXIS=new c(0,0,1),Object.freeze(a),Object.freeze(s),f.DEFAULT_FACING_DIRECTION=c.negateVector(a.Z_AXIS),f.DEFAULT_UP_DIRECTION=a.Y_AXIS,f.FIELD_OF_VIEW_Y=t.PI_OVER_FOUR,f.MIN_DISTANCE_TO_NEAR_PLANE=10,f.MAX_DISTANCE_TO_FAR_PLANE=1e6,f.DEFAULT_DISTANCE_TO_NEAR_PLANE=f.MIN_DISTANCE_TO_NEAR_PLANE,f.DEFAULT_DISTANCE_TO_FAR_PLANE=1e5,Object.freeze(f),E.fromDisplayToDrawSpace=function(e,t){return{x:t.x/e.clientWidth*e.width,y:t.y/e.clientHeight*e.height}},E.fromDrawToDisplaySpace=function(e,t){return{x:t.x/e.width*e.clientWidth,y:t.y/e.height*e.clientHeight}},Object.freeze(E),_.COLOR_BUFFER=16384,_.DEPTH_BUFFER=256,_.STENCIL_BUFFER=1024,Object.freeze(_),O.prototype={toArray:function(){return[this.r,this.g,this.b,this.a]}},O.areEqual=function(e,t){return e instanceof O==!1||t instanceof O==!1?!1:e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a?!1:!0},Object.freeze(O),l.DEFAULT_BACKGROUND=new O(32/255,32/255,32/255,1),l.BLACK=new O(0,0,0,1),l.WHITE=new O(1,1,1,1),l.TRANSPARENT=new O(1,1,1,0),l.SKY_BLUE=new O(135/255,206/255,235/255,1),l.CADET_BLUE=new O(95/255,158/255,160/255,1),l.PINK=new O(1,192/255,203/255,1),l.PHOTOSHOP_DARK_RED=new O(157/255,10/255,14/255,1),l.PHOTOSHOP_PASTEL_RED_ORANGE=new O(255,173/255,129/255,1),l.PHOTOSHOP_DARK_RED_ORANGE=new O(255,65/255,13/255,1),l.PHOTOSHOP_PASTEL_YELLOW_ORANGE=new O(253/255,198/255,137/255,1),l.PHOTOSHOP_DARK_YELLOW_ORANGE=new O(163/255,97/255,9/255,1),l.PHOTOSHOP_PASTEL_YELLOW=new O(1,247/255,.6,1),l.PHOTOSHOP_DARK_YELLOW=new O(171/255,160/255,0,1),l.PHOTOSHOP_PASTEL_PEA_GREEN=new O(196/255,223/255,155/255,1),l.PHOTOSHOP_DARK_PEA_GREEN=new O(89/255,133/255,39/255,1),l.PHOTOSHOP_PASTEL_YELLOW_GREEN=new O(162/255,211/255,156/255,1),l.PHOTOSHOP_DARK_YELLOW_GREEN=new O(25/255,122/255,48/255,1),l.PHOTOSHOP_PASTEL_GREEN=new O(130/255,202/255,156/255,1),l.PHOTOSHOP_DARK_GREEN=new O(0,114/255,54/255,1),l.PHOTOSHOP_PASTEL_GREEN_CYAN=new O(122/255,.8,200/255,1),l.PHOTOSHOP_DARK_GREEN_CYAN=new O(0,115/255,106/255,1),l.PHOTOSHOP_PASTEL_CYAN=new O(109/255,207/255,246/255,1),l.PHOTOSHOP_DARK_CYAN=new O(0,118/255,163/255,1),l.PHOTOSHOP_PASTEL_CYAN_BLUE=new O(125/255,167/255,216/255,1),l.PHOTOSHOP_DARK_CYAN_BLUE=new O(0,74/255,128/255,1),l.PHOTOSHOP_PASTEL_BLUE=new O(131/255,147/255,202/255,1),l.PHOTOSHOP_DARK_BLUE=new O(0,52/255,113/255,1),l.PHOTOSHOP_PASTEL_BLUE_VIOLET=new O(135/255,129/255,189/255,1),l.PHOTOSHOP_DARK_BLUE_VIOLET=new O(27/255,20/255,100/255,1),l.PHOTOSHOP_PASTEL_VIOLET=new O(161/255,134/255,190/255,1),l.PHOTOSHOP_DARK_VIOLET=new O(68/255,14/255,98/255,1),l.PHOTOSHOP_PASTEL_VIOLET_MAGENTA=new O(188/255,140/255,191/255,1),l.PHOTOSHOP_DARK_VIOLET_MAGENTA=new O(98/255,4/255,96/255,1),l.PHOTOSHOP_PASTEL_MAGENTA=new O(244/255,154/255,193/255,1),l.PHOTOSHOP_DARK_MAGENTA=new O(158/255,0,93/255,1),l.PHOTOSHOP_PASTEL_MAGENTA_RED=new O(245/255,152/255,157/255,1),l.PHOTOSHOP_DARK_MAGENTA_RED=new O(157/255,0,57/255,1),l.PHOTOSHOP_PALE_COOL_BROWN=new O(199/255,178/255,.6,1),l.PHOTOSHOP_DARK_COOL_BROWN=new O(83/255,71/255,65/255,1),l.PHOTOSHOP_PALE_WARM_BROWN=new O(198/255,156/255,109/255,1),l.PHOTOSHOP_DARK_WARM_BROWN=new O(117/255,76/255,36/255,1),l.OSX_SOLID_KELP=new O(89/255,136/255,123/255,1),Object.freeze(l),T.NEAR_CLIP_PLANE=0,T.FAR_CLIP_PLANE=1,Object.freeze(T),A.CANVAS_WIDTH=1024,A.CANVAS_HEIGHT=1024,A.DEFAULT_CLEAR_OPTIONS=_.COLOR_BUFFER|_.DEPTH_BUFFER,A.DEFAULT_CLEAR_COLOR=l.DEFAULT_BACKGROUND,A.DEFAULT_CLEAR_DEPTH=1,A.DEFAULT_CLEAR_STENCIL=0,A.DEFAULT_TEXTURE_UNIT=0,Object.freeze(A),h.prototype={setItems:function(e){var t=this.loader.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.webGLBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),t.STATIC_DRAW)}},Object.defineProperty(h.prototype,"items",{set:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,buffer.webGLBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(items),t.STATIC_DRAW)}}),Object.freeze(h),P.MIN_X=-1,P.MAX_X=1,P.MIN_Y=-1,P.MAX_Y=1,P.MIN_Z=-1,P.MAX_Z=1,Object.freeze(P),d.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec4 vertexColor;","uniform mat4 transform;","varying vec4 color;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","color = vertexColor;","}"].join("\n"),d.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(d),R.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","uniform mat4 transform;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","}"].join("\n"),R.FRAGMENT_SHADER_SOURCE=["precision mediump float;","void main() {","gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","}"].join("\n"),Object.freeze(R),y.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec2 vertexTextureCoordinates;","uniform mat4 transform;","varying vec2 textureCoordinates;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),y.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(y),w.LINE_LIST=1,w.LINE_STRIP=3,w.TRIANGLE_LIST=4,w.TRIANGLE_STRIP=5,Object.freeze(w),Object.freeze(g),m.toClipSpace=function(e,t){return new u(P.MIN_X+t.x/e.clientWidth*(P.MAX_X-P.MIN_X),P.MIN_Y+t.y/e.clientHeight*(P.MAX_Y-P.MIN_Y),P.MIN_Z+t.z*(P.MAX_Z-P.MIN_Z),1)},Object.freeze(m),p.VERTEX_SHADER=0,p.FRAGMENT_SHADER=1,Object.freeze(p),Object.freeze(S),Object.freeze(x),b.toUV=function(e,t){return{u:e,v:1-t}},b.toST=function(e,t){return{s:e,t:1-t}},Object.freeze(b),L.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","varying vec4 color;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","}"].join("\n"),L.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(L),N.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","attribute vec2 vertexTextureCoordinates;","varying vec4 color;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),N.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = color * texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(N),v.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec2 vertexTextureCoordinates;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),v.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(v),D.prototype={setItems:function(e,t){var n=this.loader.gl;this.size=t,n.bindBuffer(n.ARRAY_BUFFER,this.webGLBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e),n.STATIC_DRAW)}},Object.freeze(D),I.displayMessageOf=function(e){alert(e)},Object.freeze(I),C.FRAME_COUNT_TO_AVERAGE=16,Object.freeze(C),F.LEFT=0,F.MIDDLE=1,F.RIGHT=2,Object.freeze(F),Object.freeze(U),Object.freeze(H),z.EASE_IN=0,z.EASE_OUT=1,z.EASE_IN_OUT=2,Object.freeze(z),Object.freeze(j),Object.freeze(M),e.Camera=f,e.CanvasCoordinateHelper=E,e.ClearOptions=_,e.Color=O,e.Colors=l,e.DepthBufferValues=T,e.Renderer=A,e.IndexBuffer=h,e.NormalizedDeviceCoordinates=P,e.PositionColor=d,e.PositionOnly=R,e.PositionTextureCoordinates=y,e.PrimitiveType=w,e.Program=g,e.ScreenCoordinateHelper=m,e.ShaderType=p,e.SpriteBatch=S,e.Texture2D=x,e.TextureCoordinateHelper=b,e.TransformedPositionColor=L,e.TransformedPositionColorTextureCoordinates=N,e.TransformedPositionTextureCoordinates=v,e.VertexBuffer=D,e.ExceptionHelper=I,e.Fps=C,e.MouseButton=F,e.Loader=U,e.AxisGroup=a,e.MathHelper=t,e.Vector2D=o,e.Vector3D=c,e.Vector4D=u,e.Matrix4x4=r,e.CartesianAxis=n,e.Plane=H,e.Quaternion=i,e.ViewFrustum=s,e.EaseMode=z,e.SineEase=M,e.Stopwatch=j}(this.GorillaGL=this.GorillaGL||{});
