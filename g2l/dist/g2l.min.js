!function(e){"use strict";function t(){}function r(){}function n(e,t,r,n,i,o,u,c,a,s,f,E,_,O,l,T){this.elements=[e,i,a,_,t,o,s,O,r,u,f,l,n,c,E,T],Object.defineProperty(this,"s11",{get:function(){return this.elements[0]}}),Object.defineProperty(this,"s12",{get:function(){return this.elements[4]}}),Object.defineProperty(this,"s13",{get:function(){return this.elements[8]}}),Object.defineProperty(this,"s14",{get:function(){return this.elements[12]}}),Object.defineProperty(this,"s21",{get:function(){return this.elements[1]}}),Object.defineProperty(this,"s22",{get:function(){return this.elements[5]}}),Object.defineProperty(this,"s23",{get:function(){return this.elements[9]}}),Object.defineProperty(this,"s24",{get:function(){return this.elements[13]}}),Object.defineProperty(this,"s31",{get:function(){return this.elements[2]}}),Object.defineProperty(this,"s32",{get:function(){return this.elements[6]}}),Object.defineProperty(this,"s33",{get:function(){return this.elements[10]}}),Object.defineProperty(this,"s34",{get:function(){return this.elements[14]}}),Object.defineProperty(this,"s41",{get:function(){return this.elements[3]}}),Object.defineProperty(this,"s42",{get:function(){return this.elements[7]}}),Object.defineProperty(this,"s43",{get:function(){return this.elements[11]}}),Object.defineProperty(this,"s44",{get:function(){return this.elements[15]}})}function i(e,t,r,n){this.x=e,this.y=t,this.z=r,this.w=n}function o(e,t){this.x=e,this.y=t}function u(e,t,r,n){this.x=e,this.y=t,this.z=r,this.w=n}function c(e,t,r){this.x=e,this.y=t,this.z=r}function a(){}function s(){}function f(e,r,i,o,u,a){function E(){P!==!1&&(T=n.createViewMatrix(r,i,o),R=!0,P=!1)}function _(){var e=l.clientWidth/l.clientHeight;(y!==!1||t.areEqual(e,g)!==!0)&&(g=e,h=n.createProjectionMatrix(f.FIELD_OF_VIEW_Y,g,u,a),R=!0,y=!1)}var O,l,T,h,A,d,P,y,R,g;try{O=this,void 0===r&&(r=new c(0,0,1e4)),void 0===i&&(i=f.DEFAULT_FACING_DIRECTION),void 0===o&&(o=f.DEFAULT_UP_DIRECTION),void 0===u&&(u=f.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===a&&(a=f.DEFAULT_DISTANCE_TO_FAR_PLANE),u<f.MIN_DISTANCE_TO_NEAR_PLANE&&(u=f.MIN_DISTANCE_TO_NEAR_PLANE),f.MAX_DISTANCE_TO_FAR_PLANE<a&&(a=f.MAX_DISTANCE_TO_FAR_PLANE),l=e.canvas,d=new s,P=!0,y=!0,R=!0}catch(w){throw console.log("g2l.Camera: ",w),w}Object.defineProperty(this,"renderer",{get:function(){return e}}),Object.defineProperty(this,"position",{get:function(){return r}}),Object.defineProperty(this,"facingDirection",{get:function(){return i}}),Object.defineProperty(this,"upDirection",{get:function(){return o}}),Object.defineProperty(this,"distanceToNearPlane",{get:function(){return u}}),Object.defineProperty(this,"distanceToFarPlane",{get:function(){return a}}),Object.defineProperty(this,"viewFrustum",{get:function(){return d}}),this.zoom=function(e){var t=c.multiplyVectorByScalar(c.calculateUnitVectorOf(i),e);r=c.addVectors(r,t),P=!0},this.getPosition=function(){return r},this.getFacingDirection=function(){return i},this.getUpDirection=function(){return o},this.getUpDirection=function(){return o},this.getDistanceToNearPlane=function(e){return u},this.getDistanceToFarPlane=function(e){return a},this.getProjectionMatrix=function(e){_(),e.elements=h.elements.slice()},this.getTransform=function(e){E(),_(),R===!0&&(A=n.multiplyMatrices(h,T)),e.elements=A.elements.slice(),R===!0&&(R=!1)}}function E(){}function _(){}function O(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n}function l(){}function T(){}function h(e){function t(){if(void 0!==e&&void 0!==e.canvas)_=e.canvas;else{if(void 0===document.body)throw"document.body === undefined";_=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),_.width=h.CANVAS_WIDTH,_.height=h.CANVAS_HEIGHT}}function r(){if(void 0===e||e.usesDefaultStyles!==!1){var t=_.style;t.width="100%",t.height="100%",t.display="block"}}function i(){if(l=_.getContext("webgl"),null===l){if(l=_.getContext("experimental-webgl"),null===l)throw alert("Unable to initialize WebGL. Your browser may not support it."),"A WebGL-not-supported exception raised.";console.log("Your browser supports WebGL. \n\nHowever, it indicates the support is experimental. That is, not all WebGL functionality may be supported, and content may not run as expected.")}l.depthRange(T.NEAR_CLIP_PLANE,T.FAR_CLIP_PLANE),d=h.DEFAULT_CLEAR_COLOR,P=h.DEFAULT_CLEAR_DEPTH,y=h.DEFAULT_CLEAR_STENCIL,l.clearColor(d.r,d.g,d.b,d.a),l.clearDepth(P),l.clearStencil(y),o(),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!0)}function o(){u(),c(),a(),s()}function u(){l.disable(l.BLEND)}function c(){l.enable(l.DEPTH_TEST),l.depthFunc(l.LEQUAL),l.disable(l.STENCIL_TEST)}function a(){}function s(){l.enable(l.CULL_FACE),l.cullFace(l.BACK)}function f(){void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}())}var E,_,l,A,d,P,y;try{E=this,t(),r(),i(),f()}catch(R){throw console.log("g2l.Renderer: "+R),R}Object.defineProperty(this,"canvas",{get:function(){return _}}),Object.defineProperty(this,"gl",{get:function(){return l}}),Object.defineProperty(this,"program",{get:function(){return A},set:function(e){e!==A&&(A=e,l.useProgram(A.webGLProgram))}}),this.run=function(e,t){function r(){requestAnimationFrame(r),void 0!==e&&e(),void 0!==t&&t()}r()},this.clear=function(e,t,r,n){void 0!==t&&O.areEqual(t,d)===!1&&(d=t,l.clearColor(d.r,d.g,d.b,d.a)),void 0!==r&&r!==P&&(P=r,l.clearDepth(P)),void 0!==n&&n!==y&&(y=n,l.clearStencil(y)),void 0===e&&(e=h.DEFAULT_CLEAR_OPTIONS),l.clear(e)},this.drawPrimitives=function(e,t,r){l.drawArrays(e,t,r)},this.drawIndexedPrimitives=function(e,t,r,n){void 0===n&&(n=0),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,e.webGLBuffer),l.drawElements(t,r,l.UNSIGNED_SHORT,n)},this.getAttributeLocation=function(e,t){return l.getAttribLocation(e.webGLProgram,t)},this.getUniformLocation=function(e,t){return l.getUniformLocation(e.webGLProgram,t)},this.setAttribute=function(e,t){l.bindBuffer(l.ARRAY_BUFFER,t.webGLBuffer),l.vertexAttribPointer(e,t.size,l.FLOAT,!1,0,0),l.enableVertexAttribArray(e)},this.setSampler=function(e,t,r){void 0===r&&(r=h.DEFAULT_TEXTURE_UNIT),l.activeTexture(l.TEXTURE0+r),l.bindTexture(l.TEXTURE_2D,t.webGLTexture),this.setUniform(e,r)},this.setUniform=function(e,t){t instanceof n==!0?l.uniformMatrix4fv(e,!1,new Float32Array(t.elements)):l.uniform1i(e,t)}}function A(e){var t,r;try{t=e.loader.renderer.gl,r=t.createBuffer()}catch(n){throw console.log("g2l.IndexBuffer: "+n),n}Object.defineProperty(this,"bufferLoader",{get:function(){return e}}),Object.defineProperty(this,"webGLBuffer",{get:function(){return r}})}function d(){}function P(){}function y(){}function R(){}function g(){}function w(e){var t,r;try{t=e.loader.renderer.gl,r=t.createProgram()}catch(n){throw console.log("g2l.Program: "+n),n}Object.defineProperty(this,"programLoader",{get:function(){return e}}),Object.defineProperty(this,"webGLProgram",{get:function(){return r}})}function p(){}function m(){}function S(e){var t,r,n,i,o;try{t=this,r=e.gl,n=r.createTexture()}catch(u){throw console.log("g2l.SpriteBatch: "+u),u}Object.defineProperty(this,"gl",{get:function(){return r}}),Object.defineProperty(this,"webGLTexture",{get:function(){return n}}),Object.defineProperty(this,"width",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"height",{get:function(){return o},set:function(e){o=e}})}function x(e){var t,r,n,i;try{t=e.loader.renderer.gl,r=t.createTexture()}catch(o){throw console.log("g2l.Texture2D: "+o),o}Object.defineProperty(this,"loader",{get:function(){return _loader}}),Object.defineProperty(this,"webGLTexture",{get:function(){return r}}),Object.defineProperty(this,"width",{get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"height",{get:function(){return i},set:function(e){i=e}})}function b(){}function L(){}function N(){}function v(){}function D(e){var t,r,n;try{t=e.loader.renderer.gl,r=t.createBuffer()}catch(i){throw console.log("g2l.VertexBuffer: "+i),i}Object.defineProperty(this,"bufferLoader",{get:function(){return e}}),Object.defineProperty(this,"webGLBuffer",{get:function(){return r}}),Object.defineProperty(this,"size",{get:function(){return n},set:function(e){n=e}})}function I(){}function C(){var e,t,r,n,i;try{e=C.FRAME_COUNT_TO_AVERAGE,t=[],r=0,n=0,i=0;for(var o=0;o<C.FRAME_COUNT_TO_AVERAGE;o++)t[o]=1}catch(u){throw console.log("g2l.Fps: "+u),u}Object.defineProperty(this,"average",{get:function(){return i}}),this.update=function(){var o=(new Date).getTime(),u=.001*(o-n);n=o,e+=u-t[r],t[r]=u,r++,r===C.FRAME_COUNT_TO_AVERAGE&&(r=0),i=Math.floor(1/(e/C.FRAME_COUNT_TO_AVERAGE)+.5)}}function U(){}function F(e){var t,r;try{Object.defineProperty(this,"loader",{get:function(){return e}}),t=this,r=e.renderer.gl}catch(n){throw console.log("g2l.BufferLoader: "+n),n}this.createVertexBuffer=function(){return new D(t)},this.createIndexBuffer=function(){return new A(t)}}function H(e){function t(e,t){var r;if(e===m.VERTEX_SHADER)r=o.createShader(o.VERTEX_SHADER);else{if(e!==m.FRAGMENT_SHADER)return null;r=o.createShader(o.FRAGMENT_SHADER)}if(o.shaderSource(r,t),o.compileShader(r),o.getShaderParameter(r,o.COMPILE_STATUS)===!1){var n=o.getShaderInfoLog(r);throw o.deleteShader(r),"An error occurred compiling the shaders: "+n}return r}function r(e){var t=document.getElementById(e);if(null===t)return null;for(var r="",n=t.firstChild;null!==n;)n.nodeType===Node.TEXT_NODE&&(r+=n.textContent),n=n.nextSibling;var i;if("x-shader/x-vertex"===t.type)i=o.createShader(o.VERTEX_SHADER);else{if("x-shader/x-fragment"!==t.type)return null;i=o.createShader(o.FRAGMENT_SHADER)}if(o.shaderSource(i,r),o.compileShader(i),o.getShaderParameter(i,o.COMPILE_STATUS)===!1){var u=o.getShaderInfoLog(i);throw o.deleteShader(i),"An error occurred compiling the shaders: "+u}return i}function n(e,t){var r=new w(i),n=r.webGLProgram;if(o.attachShader(n,e),o.attachShader(n,t),o.linkProgram(n),o.getProgramParameter(n,o.LINK_STATUS)===!1){var u=o.getProgramInfoLog(n);throw o.deleteProgram(n),"Unable to initialize the (shader) program: "+u}return r}var i,o;try{i=this,o=e.renderer.gl,Object.defineProperty(this,"loader",{get:function(){return e}})}catch(u){throw console.log("g2l.ProgramLoader: "+u),u}this.setUpProgram=function(e,r){var i=t(m.VERTEX_SHADER,e),o=t(m.FRAGMENT_SHADER,r);return n(i,o)},this.setUpProgramFromHtmlElements=function(e,t){var i=r(m.VERTEX_SHADER,e),o=r(m.FRAGMENT_SHADER,t);return n(i,o)}}function j(e){var r,n;try{r=this,n=e.renderer.gl}catch(i){throw console.log("g2l.TextureLoader: "+i),i}Object.defineProperty(this,"loader",{get:function(){return e}}),this.loadTexture2D=function(e){function i(e,r){n.bindTexture(n.TEXTURE_2D,r.webGLTexture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),t.isPowerOfTwo(e.width)===!0&&t.isPowerOfTwo(e.height)===!0?(n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR)):n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.bindTexture(n.TEXTURE_2D,null),r.width=e.width,r.height=e.height}var o=new Image,u=new x(r);return o.addEventListener("load",function(){i(o,u)}),o.src=e,u}}function z(e){var t,r,n,i,o;try{t=this,r=e.gl,Object.defineProperty(this,"renderer",{get:function(){return e}}),n=new F(t),i=new j(t),o=new H(t)}catch(u){throw console.log("g2l.Loader: "+u),u}this.createVertexBuffer=function(){return n.createVertexBuffer()},this.createIndexBuffer=function(){return n.createIndexBuffer()},this.setUpProgram=function(e,t){return o.setUpProgram(e,t)},this.setUpProgramFromHtmlElements=function(e,t){return o.setUpProgram(e,t)},this.loadTexture2D=function(e){return i.loadTexture2D(e)}}function M(){}function G(){}function V(){function e(){return(new Date).getTime()}var t=0,r=0;Object.defineProperty(this,"isRunning",{get:function(){return 0!==t?!0:!1}}),Object.defineProperty(this,"elapsedMilliseconds",{get:function(){return r+(this.isRunning===!0)?e()-t:0}}),this.start=function(){t=this.isRunning===!0?t:e()},this.stop=function(){r=this.isRunning===!0?r+(e()-t):r,t=0},this.reset=function(){t=0,r=0}}function B(e,r,n){var i,o,u;switch(e){case G.EASE_IN:i=-t.PI_OVER_TWO,o=0;break;case G.EASE_OUT:i=0,o=t.PI_OVER_TWO;break;case G.EASE_IN_OUT:i=-t.PI_OVER_TWO,o=t.PI_OVER_TWO;break;default:throw"A not-supported exception raised."}u=new V,Object.defineProperty(this,"easeMode",{get:function(){return e}}),Object.defineProperty(this,"duration",{get:function(){return r}}),Object.defineProperty(this,"sineOfStartAngle",{get:function(){return Math.sin(i)}}),Object.defineProperty(this,"sineOfCurrentAngle",{get:function(){var e=o-i;return Math.sin(i+e*this.ratioOfCurrentToTotalTimeOffset)}}),Object.defineProperty(this,"sineOfFinishAngle",{get:function(){return Math.sin(o)}}),Object.defineProperty(this,"ratioOfCurrentToTotalTimeOffset",{get:function(){if(n===!1)return this.isFinished===!0?1:u.elapsedMilliseconds/r;var e=u.elapsedMilliseconds%r;return e/r}}),Object.defineProperty(this,"ratioOfCurrentToTotalSineOfAngleOffset",{get:function(){var e=this.sineOfCurrentAngle-this.sineOfStartAngle,t=this.sineOfFinishAngle-this.sineOfStartAngle;return e/t}}),Object.defineProperty(this,"isRunning",{get:function(){return u.isRunning}}),Object.defineProperty(this,"isFinished",{get:function(){if(n===!0)return!1;var e=r<=u.elapsedMilliseconds?!0:!1;return e===!0&&u.stop(),e}}),this.start=function(){u.isRunning!==!0&&u.start()},this.pause=function(){u.isRunning!==!1&&u.stop()},this.resume=function(){u.isRunning!==!0&&u.start()},this.stop=function(){u.reset()}}t.PI=3.141592653589793,t.PI_OVER_TWO=1.5707963267948966,t.PI_OVER_FOUR=.7853981633974483,t.TWO_PI=6.283185307179586,t.PI_OVER_ONE_EIGHTY=.0174532925199432,t.ONE_EIGHTY_OVER_PI=57.29577951308232,t.RADIANS_OF_FORTY_FIVE_DEGREES=t.PI_OVER_FOUR,t.RADIANS_OF_NINETY_DEGREES=t.PI_OVER_TWO,t.RADIANS_OF_ONE_EIGHTY_DEGREES=t.PI,t.RADIANS_OF_THREE_SIXTY_DEGREES=t.TWO_PI,t.EPSILON=1e-5,t.toRadians=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return t.PI_OVER_ONE_EIGHTY*e},t.toDegrees=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return t.ONE_EIGHTY_OVER_PI*e},t.isZero=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return e<=-t.EPSILON||t.EPSILON<=e?!1:!0},t.areEqual=function(e,r){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof r)throw"typeof(s2) !== 'number'";var n=e-r;return n<=-t.EPSILON||t.EPSILON<=n?!1:!0},t.isScalar1LessThanScalar2=function(e,r){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof r)throw"typeof(s2) !== 'number'";return e-r<=-t.EPSILON?!0:!1},t.isScalar1LessThanOrEqualToScalar2=function(e,r){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof r)throw"typeof(s2) !== 'number'";return e-r<t.EPSILON?!0:!1},t.isScalar1GreaterThanScalar2=function(e,r){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof r)throw"typeof(s2) !== 'number'";return t.EPSILON<=e-r?!0:!1},t.isScalar1GreaterThanOrEqualToScalar2=function(e,r){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof r)throw"typeof(s2) !== 'number'";return-t.EPSILON<e-r?!0:!1},t.isPowerOfTwo=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return 0!==e&&0===(e&e-1)?!0:!1},Object.freeze(t),r.X=0,r.Y=1,r.Z=2,Object.freeze(r),n.ELEMENT_COUNT=16,n.fromArray=function(e){return new n(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},n.createIdentityMatrix=function(){return new n(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},n.createViewMatrix=function(e,t,r){var i,o,u,a;a=c.negateVector(t),u=c.calculateUnitVectorOf(a),a=c.calculateCrossProductOf(r,u),i=c.calculateUnitVectorOf(a),o=c.calculateCrossProductOf(u,i);var s=i.x,f=o.x,E=u.x,_=0,O=i.y,l=o.y,T=u.y,h=0,A=i.z,d=o.z,P=u.z,y=0,R=-c.calculateDotProductOf(i,e),g=-c.calculateDotProductOf(o,e),w=-c.calculateDotProductOf(u,e),p=1;return new n(s,O,A,R,f,l,d,g,E,T,P,w,_,h,y,p)},n.createProjectionMatrix=function(e,t,r,i){void 0===e&&(e=f.FIELD_OF_VIEW_Y),void 0===r&&(r=f.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===i&&(i=f.DEFAULT_DISTANCE_TO_FAR_PLANE);var o,u;u=1/Math.tan(e/2),o=u/t;var c=[];return c[0]=o,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=u,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=i/(r-i),c[11]=-1,c[12]=0,c[13]=0,c[14]=r*i/(r-i),c[15]=0,n.fromArray(c)},n.createScaleMatrix=function(e){return new n(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},n.createRotationMatrix=function(e,t){var i=Math.cos(t),o=Math.sin(t);switch(e){case r.X:return new n(1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1);case r.Y:return new n(i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1);case r.Z:return new n(i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1);default:console.log("A not-supported exception raised.")}},n.createTranslationMatrix=function(e){return new n(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1)},n.multiplyMatrices=function(e,t){var r=e.elements,i=t.elements,o=[],u=r[0],c=r[4],a=r[8],s=r[12],f=r[1],E=r[5],_=r[9],O=r[13],l=r[2],T=r[6],h=r[10],A=r[14],d=r[3],P=r[7],y=r[11],R=r[15],g=i[0],w=i[4],p=i[8],m=i[12],S=i[1],x=i[5],b=i[9],L=i[13],N=i[2],v=i[6],D=i[10],I=i[14],C=i[3],U=i[7],F=i[11],H=i[15];return o[0]=u*g+c*S+a*N+s*C,o[4]=u*w+c*x+a*v+s*U,o[8]=u*p+c*b+a*D+s*F,o[12]=u*m+c*L+a*I+s*H,o[1]=f*g+E*S+_*N+O*C,o[5]=f*w+E*x+_*v+O*U,o[9]=f*p+E*b+_*D+O*F,o[13]=f*m+E*L+_*I+O*H,o[2]=l*g+T*S+h*N+A*C,o[6]=l*w+T*x+h*v+A*U,o[10]=l*p+T*b+h*D+A*F,o[14]=l*m+T*L+h*I+A*H,o[3]=d*g+P*S+y*N+R*C,o[7]=d*w+P*x+y*v+R*U,o[11]=d*p+P*b+y*D+R*F,o[15]=d*m+P*L+y*I+R*H,n.fromArray(o)},n.transposeMatrix=function(e){return new n(e.s11,e.s21,e.s31,e.s41,e.s12,e.s22,e.s32,e.s42,e.s13,e.s23,e.s33,e.s43,e.s14,e.s24,e.s34,e.s44)},n.invertMatrix=function(e){var t=e.s11,r=e.s12,i=e.s13,o=e.s14,u=e.s21,c=e.s22,a=e.s23,s=e.s24,f=e.s31,E=e.s32,_=e.s33,O=e.s34,l=e.s41,T=e.s42,h=e.s43,A=e.s44,d=a*O*T-s*_*T+s*E*h-c*O*h-a*E*A+c*_*A,P=o*_*T-i*O*T-o*E*h+r*O*h+i*E*A-r*_*A,y=i*s*T-o*a*T+o*c*h-r*s*h-i*c*A+r*a*A,R=o*a*E-i*s*E-o*c*_+r*s*_+i*c*O-r*a*O,g=t*d+u*P+f*y+l*R;if(0===g)throw"Can't invert matrix cuz determinant is 0";return g=1/g,n.fromArray([d*g,(s*_*l-a*O*l-s*f*h+u*O*h+a*f*A-u*_*A)*g,(c*O*l-s*E*l+s*f*T-u*O*T-c*f*A+u*E*A)*g,(a*E*l-c*_*l-a*f*T+u*_*T+c*f*h-u*E*h)*g,P*g,(i*O*l-o*_*l+o*f*h-t*O*h-i*f*A+t*_*A)*g,(o*E*l-r*O*l-o*f*T+t*O*T+r*f*A-t*E*A)*g,(r*_*l-i*E*l+i*f*T-t*_*T-r*f*h+t*E*h)*g,y*g,(o*a*l-i*s*l-o*u*h+t*s*h+i*u*A-t*a*A)*g,(r*s*l-o*c*l+o*u*T-t*s*T-r*u*A+t*c*A)*g,(i*c*l-r*a*l-i*u*T+t*a*T+r*u*h-t*c*h)*g,R*g,(i*s*f-o*a*f+o*u*_-t*s*_-i*u*O+t*a*O)*g,(o*c*f-r*s*f-o*u*E+t*s*E+r*u*O-t*c*O)*g,(r*a*f-i*c*f+i*u*E-t*a*E-r*u*_+t*c*_)*g])},n.areEqual=function(e,t){if(e instanceof n==!1||t instanceof n==!1)return!1;for(var r=e.elements,i=t.elements,o=0;o<n.ELEMENT_COUNT;o++)if(r[o]!==i[o])return!1;return!0},Object.freeze(n),i.prototype={toMatrix4x4:function(){var e=this.x,t=this.y,r=this.z,i=this.w,o=e*e,u=t*t,c=r*r,a=e*t,s=r*i,f=r*e,E=t*i,_=t*r,O=e*i,l=[1-2*(u+c),2*(a+s),2*(f-E),0,2*(a-s),1-2*(c+o),2*(_+O),0,2*(f+E),2*(_-O),1-2*(u+o),0,0,0,0,1];return n.fromArray(l)}},i.ELEMENT_COUNT=4,i.fromAxisAngle=function(e,t){e=c.calculateUnitVectorOf(e);var r=.5*t,n=Math.sin(r),o=Math.cos(r);return new i(e.x*n,e.y*n,e.z*n,o)},i.fromArray=function(e){return new i(e[0],e[1],e[2],e[3])},i.createIdentityQuaternion=function(){return new i(0,0,0,1)},i.calculateUnitQuaternionOf=function(e){var r=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(r<t.EPSILON)return new i(0,0,0,0);var n=1/r;return new i(e.x*n,e.y*n,e.z*n,e.w*n)},i.areEqual=function(e,t){return e instanceof i==!1||t instanceof i==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(i),o.prototype={toArray:function(){return[this.x,this.y]}},o.ELEMENT_COUNT=2,o.fromArray=function(e){return new o(e[0],e[1])},o.calculateUnitVectorOf=function(e){var r=Math.sqrt(e.x*e.x+e.y*e.y);if(r<t.EPSILON)return new o(0,0);var n=1/r;return new o(e.x*n,e.y*n)},o.negateVector=function(e){return new o(-e.x,-e.y)},o.addVectors=function(e,t){return new o(e.x+t.x,e.y+t.y)},o.subtractVectors=function(e,t){return new o(e.x-t.x,e.y-t.y)},o.multiplyVectorByScalar=function(e,t){return new o(e.x*t,e.y*t)},o.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y},o.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y},o.calculatePerpendicularVectorOf=function(e){return new o(-e.y,e.x)},o.calculatePerpendicularDotProductOf=function(e,t){return-e.y*t.x+e.x*t.y},o.areEqual=function(e,t){return e instanceof o==!1||t instanceof o==!1?!1:e.x!==t.x||e.y!==t.y?!1:!0},Object.freeze(o),u.prototype={toArray:function(){return[this.x,this.y,this.z,this.w]}},Object.defineProperty(u.prototype,"xyz",{get:function(){return new c(this.x,this.y,this.z)}}),u.ELEMENT_COUNT=4,u.fromArray=function(e){return new u(e[0],e[1],e[2],e[3])},u.calculateUnitVectorOf=function(e){var r=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(r<t.EPSILON)return new u(0,0,0,0);var n=1/r;return new u(e.x*n,e.y*n,e.z*n,e.w*n)},u.addVectors=function(e,t){return new u(e.x+t.x,e.y+t.y,e.z+t.z,e.w+t.w)},u.subtractVectors=function(e,t){return new u(e.x-t.x,e.y-t.y,e.z-t.z,e.w-t.w)},u.multiplyVectorByScalar=function(e,t){return new u(e.x*t,e.y*t,e.z*t,e.w*t)},u.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w)},u.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},u.transform=function(e,t){return new u(e.s11*t.x+e.s12*t.y+e.s13*t.z+e.s14*t.w,e.s21*t.x+e.s22*t.y+e.s23*t.z+e.s24*t.w,e.s31*t.x+e.s32*t.y+e.s33*t.z+e.s34*t.w,e.s41*t.x+e.s42*t.y+e.s43*t.z+e.s44*t.w)},u.areEqual=function(e,t){return e instanceof u==!1||t instanceof u==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(u),c.prototype={toArray:function(){return[this.x,this.y,this.z]}},Object.defineProperty(c.prototype,"xy",{get:function(){return new o(this.x,this.y)}}),c.ELEMENT_COUNT=3,c.fromArray=function(e){return new c(e[0],e[1],e[2])},c.calculateUnitVectorOf=function(e){var r=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);if(r<t.EPSILON)return new c(0,0,0);var n=1/r;return new c(e.x*n,e.y*n,e.z*n)},c.negateVector=function(e){return new c(-e.x,-e.y,-e.z)},c.addVectors=function(e,t){return new c(e.x+t.x,e.y+t.y,e.z+t.z)},c.subtractVectors=function(e,t){return new c(e.x-t.x,e.y-t.y,e.z-t.z)},c.multiplyVectorByScalar=function(e,t){return new c(e.x*t,e.y*t,e.z*t)},c.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},c.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},c.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},c.calculateCrossProductOf=function(e,t){return new c(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)},c.transformPoint=function(e,t){var r=new u(t.x,t.y,t.z,1),n=u.Transform(e,r),i=1/n.w;return new c(n.x*i,n.y*i,n.z*i)},c.transformVector=function(e,t){var r=new u(t.x,t.y,t.z,0);return t=u.Transform(e,r),new c(t.x,t.y,t.z)},c.transform=function(e,t){var r=t.X+t.X,n=t.Y+t.Y,i=t.Z+t.Z,o=t.W*r,u=t.W*n,a=t.W*i,s=t.X*r,f=t.X*n,E=t.X*i,_=t.Y*n,O=t.Y*i,l=t.Z*i,T=1-_-l,h=f-a,A=E+u,d=f+a,P=1-s-l,y=O-o,R=E-u,g=O+o,w=1-s-_;return new c(e.X*T+e.Y*h+e.Z*A,e.X*d+e.Y*P+e.Z*y,e.X*R+e.Y*g+e.Z*w)},c.areEqual=function(e,t){return e instanceof c==!1||t instanceof c==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z?!1:!0},Object.freeze(c),a.X_AXIS=new c(1,0,0),a.Y_AXIS=new c(0,1,0),a.Z_AXIS=new c(0,0,1),Object.freeze(a),Object.freeze(s),f.DEFAULT_FACING_DIRECTION=c.negateVector(a.Z_AXIS),f.DEFAULT_UP_DIRECTION=a.Y_AXIS,f.FIELD_OF_VIEW_Y=t.PI_OVER_FOUR,f.MIN_DISTANCE_TO_NEAR_PLANE=10,f.MAX_DISTANCE_TO_FAR_PLANE=1e6,f.DEFAULT_DISTANCE_TO_NEAR_PLANE=f.MIN_DISTANCE_TO_NEAR_PLANE,f.DEFAULT_DISTANCE_TO_FAR_PLANE=1e5,Object.freeze(f),E.fromDisplayToDrawSpace=function(e,t){return{x:t.x/e.clientWidth*e.width,y:t.y/e.clientHeight*e.height}},E.fromDrawToDisplaySpace=function(e,t){return{x:t.x/e.width*e.clientWidth,y:t.y/e.height*e.clientHeight}},Object.freeze(E),_.COLOR_BUFFER=16384,_.DEPTH_BUFFER=256,_.STENCIL_BUFFER=1024,Object.freeze(_),O.prototype={toArray:function(){return[this.r,this.g,this.b,this.a]}},O.areEqual=function(e,t){return e instanceof O==!1||t instanceof O==!1?!1:e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a?!1:!0},Object.freeze(O),l.DEFAULT_BACKGROUND=new O(32/255,32/255,32/255,1),l.BLACK=new O(0,0,0,1),l.WHITE=new O(1,1,1,1),l.TRANSPARENT=new O(1,1,1,0),l.SKY_BLUE=new O(135/255,206/255,235/255,1),l.CADET_BLUE=new O(95/255,158/255,160/255,1),l.PINK=new O(1,192/255,203/255,1),l.PHOTOSHOP_DARK_RED=new O(157/255,10/255,14/255,1),l.PHOTOSHOP_PASTEL_RED_ORANGE=new O(255,173/255,129/255,1),l.PHOTOSHOP_DARK_RED_ORANGE=new O(255,65/255,13/255,1),l.PHOTOSHOP_PASTEL_YELLOW_ORANGE=new O(253/255,198/255,137/255,1),l.PHOTOSHOP_DARK_YELLOW_ORANGE=new O(163/255,97/255,9/255,1),l.PHOTOSHOP_PASTEL_YELLOW=new O(1,247/255,.6,1),l.PHOTOSHOP_DARK_YELLOW=new O(171/255,160/255,0,1),l.PHOTOSHOP_PASTEL_PEA_GREEN=new O(196/255,223/255,155/255,1),l.PHOTOSHOP_DARK_PEA_GREEN=new O(89/255,133/255,39/255,1),l.PHOTOSHOP_PASTEL_YELLOW_GREEN=new O(162/255,211/255,156/255,1),l.PHOTOSHOP_DARK_YELLOW_GREEN=new O(25/255,122/255,48/255,1),l.PHOTOSHOP_PASTEL_GREEN=new O(130/255,202/255,156/255,1),l.PHOTOSHOP_DARK_GREEN=new O(0,114/255,54/255,1),l.PHOTOSHOP_PASTEL_GREEN_CYAN=new O(122/255,.8,200/255,1),l.PHOTOSHOP_DARK_GREEN_CYAN=new O(0,115/255,106/255,1),l.PHOTOSHOP_PASTEL_CYAN=new O(109/255,207/255,246/255,1),l.PHOTOSHOP_DARK_CYAN=new O(0,118/255,163/255,1),l.PHOTOSHOP_PASTEL_CYAN_BLUE=new O(125/255,167/255,216/255,1),l.PHOTOSHOP_DARK_CYAN_BLUE=new O(0,74/255,128/255,1),l.PHOTOSHOP_PASTEL_BLUE=new O(131/255,147/255,202/255,1),l.PHOTOSHOP_DARK_BLUE=new O(0,52/255,113/255,1),l.PHOTOSHOP_PASTEL_BLUE_VIOLET=new O(135/255,129/255,189/255,1),l.PHOTOSHOP_DARK_BLUE_VIOLET=new O(27/255,20/255,100/255,1),l.PHOTOSHOP_PASTEL_VIOLET=new O(161/255,134/255,190/255,1),l.PHOTOSHOP_DARK_VIOLET=new O(68/255,14/255,98/255,1),l.PHOTOSHOP_PASTEL_VIOLET_MAGENTA=new O(188/255,140/255,191/255,1),l.PHOTOSHOP_DARK_VIOLET_MAGENTA=new O(98/255,4/255,96/255,1),l.PHOTOSHOP_PASTEL_MAGENTA=new O(244/255,154/255,193/255,1),l.PHOTOSHOP_DARK_MAGENTA=new O(158/255,0,93/255,1),l.PHOTOSHOP_PASTEL_MAGENTA_RED=new O(245/255,152/255,157/255,1),l.PHOTOSHOP_DARK_MAGENTA_RED=new O(157/255,0,57/255,1),l.PHOTOSHOP_PALE_COOL_BROWN=new O(199/255,178/255,.6,1),l.PHOTOSHOP_DARK_COOL_BROWN=new O(83/255,71/255,65/255,1),l.PHOTOSHOP_PALE_WARM_BROWN=new O(198/255,156/255,109/255,1),l.PHOTOSHOP_DARK_WARM_BROWN=new O(117/255,76/255,36/255,1),l.OSX_SOLID_KELP=new O(89/255,136/255,123/255,1),Object.freeze(l),T.NEAR_CLIP_PLANE=0,T.FAR_CLIP_PLANE=1,Object.freeze(T),h.CANVAS_WIDTH=1024,h.CANVAS_HEIGHT=1024,h.DEFAULT_CLEAR_OPTIONS=_.COLOR_BUFFER|_.DEPTH_BUFFER,h.DEFAULT_CLEAR_COLOR=l.DEFAULT_BACKGROUND,h.DEFAULT_CLEAR_DEPTH=1,h.DEFAULT_CLEAR_STENCIL=0,h.DEFAULT_TEXTURE_UNIT=0,Object.freeze(h),A.prototype={setItems:function(e){var t=this.bufferLoader.loader.renderer.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.webGLBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),t.STATIC_DRAW)}},Object.defineProperty(A.prototype,"items",{set:function(e){var t=this.loader.renderer.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,buffer.webGLBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(items),t.STATIC_DRAW)}}),Object.freeze(A),d.MIN_X=-1,d.MAX_X=1,d.MIN_Y=-1,d.MAX_Y=1,d.MIN_Z=-1,d.MAX_Z=1,Object.freeze(d),P.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec4 vertexColor;","uniform mat4 transform;","varying vec4 color;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","color = vertexColor;","}"].join("\n"),P.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(P),y.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","uniform mat4 transform;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","}"].join("\n"),y.FRAGMENT_SHADER_SOURCE=["precision mediump float;","void main() {","gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","}"].join("\n"),Object.freeze(y),R.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec2 vertexTextureCoordinates;","uniform mat4 transform;","varying vec2 textureCoordinates;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),R.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(R),g.LINE_LIST=1,g.LINE_STRIP=3,g.TRIANGLE_LIST=4,g.TRIANGLE_STRIP=5,Object.freeze(g),Object.freeze(w),p.toClipSpace=function(e,t){return new u(d.MIN_X+t.x/e.clientWidth*(d.MAX_X-d.MIN_X),d.MIN_Y+t.y/e.clientHeight*(d.MAX_Y-d.MIN_Y),d.MIN_Z+t.z*(d.MAX_Z-d.MIN_Z),1)},Object.freeze(p),m.VERTEX_SHADER=0,m.FRAGMENT_SHADER=1,Object.freeze(m),Object.freeze(S),Object.freeze(x),b.toUV=function(e,t){return{u:e,v:1-t}},b.toST=function(e,t){return{s:e,t:1-t}},Object.freeze(b),L.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","varying vec4 color;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","}"].join("\n"),L.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(L),N.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","attribute vec2 vertexTextureCoordinates;","varying vec4 color;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),N.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = color * texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(N),v.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec2 vertexTextureCoordinates;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),v.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(v),D.prototype={setItems:function(e,t){var r=this.bufferLoader.loader.renderer.gl;this.size=t,r.bindBuffer(r.ARRAY_BUFFER,this.webGLBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.STATIC_DRAW)}},Object.freeze(D),I.displayMessageOf=function(e){alert(e)},Object.freeze(I),C.FRAME_COUNT_TO_AVERAGE=16,Object.freeze(C),U.LEFT=0,U.MIDDLE=1,U.RIGHT=2,Object.freeze(U),Object.freeze(F),Object.freeze(H),Object.freeze(j),Object.freeze(z),Object.freeze(M),G.EASE_IN=0,G.EASE_OUT=1,G.EASE_IN_OUT=2,Object.freeze(G),Object.freeze(V),Object.freeze(B),e.Camera=f,e.CanvasCoordinateHelper=E,e.ClearOptions=_,e.Color=O,e.Colors=l,e.DepthBufferValues=T,e.Renderer=h,e.IndexBuffer=A,e.NormalizedDeviceCoordinates=d,e.PositionColor=P,e.PositionOnly=y,e.PositionTextureCoordinates=R,e.PrimitiveType=g,e.Program=w,e.ScreenCoordinateHelper=p,e.ShaderType=m,e.SpriteBatch=S,e.Texture2D=x,e.TextureCoordinateHelper=b,e.TransformedPositionColor=L,e.TransformedPositionColorTextureCoordinates=N,e.TransformedPositionTextureCoordinates=v,e.VertexBuffer=D,e.ExceptionHelper=I,e.Fps=C,e.MouseButton=U,e.BufferLoader=F,e.Loader=z,e.TextureLoader=j,e.AxisGroup=a,e.MathHelper=t,e.Vector2D=o,e.Vector3D=c,
e.Vector4D=u,e.Matrix4x4=n,e.CartesianAxis=r,e.Plane=M,e.Quaternion=i,e.ViewFrustum=s,e.EaseMode=G,e.SineEase=B,e.Stopwatch=V}(this.GorillaGL=this.GorillaGL||{});
