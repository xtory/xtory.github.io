!function(e){"use strict";function t(){}function n(){}function r(e,t,n,r,i,o,c,u,a,s,f,E,_,O,l,T){this.elements=[e,i,a,_,t,o,s,O,n,c,f,l,r,u,E,T],Object.defineProperty(this,"s11",{get:function(){return this.elements[0]}}),Object.defineProperty(this,"s12",{get:function(){return this.elements[4]}}),Object.defineProperty(this,"s13",{get:function(){return this.elements[8]}}),Object.defineProperty(this,"s14",{get:function(){return this.elements[12]}}),Object.defineProperty(this,"s21",{get:function(){return this.elements[1]}}),Object.defineProperty(this,"s22",{get:function(){return this.elements[5]}}),Object.defineProperty(this,"s23",{get:function(){return this.elements[9]}}),Object.defineProperty(this,"s24",{get:function(){return this.elements[13]}}),Object.defineProperty(this,"s31",{get:function(){return this.elements[2]}}),Object.defineProperty(this,"s32",{get:function(){return this.elements[6]}}),Object.defineProperty(this,"s33",{get:function(){return this.elements[10]}}),Object.defineProperty(this,"s34",{get:function(){return this.elements[14]}}),Object.defineProperty(this,"s41",{get:function(){return this.elements[3]}}),Object.defineProperty(this,"s42",{get:function(){return this.elements[7]}}),Object.defineProperty(this,"s43",{get:function(){return this.elements[11]}}),Object.defineProperty(this,"s44",{get:function(){return this.elements[15]}})}function i(e,t,n,r){this.x=e,this.y=t,this.z=n,this.w=r}function o(e,t){this.x=e,this.y=t}function c(e,t,n,r){this.x=e,this.y=t,this.z=n,this.w=r}function u(e,t,n){this.x=e,this.y=t,this.z=n}function a(){}function s(){}function f(e,n,i,o,c,a){function E(){P!==!1&&(l=r.createViewMatrix(n,i,o),R=!0,P=!1)}function _(){var e=O.clientWidth/O.clientHeight;(d!==!1||t.areEqual(e,y)!==!0)&&(y=e,T=r.createProjectionMatrix(f.FIELD_OF_VIEW_Y,y,c,a),R=!0,d=!1)}var O,l,T,A,h,P,d,R,y;try{void 0===n&&(n=new u(0,0,1e4)),void 0===i&&(i=f.DEFAULT_FACING_DIRECTION),void 0===o&&(o=f.DEFAULT_UP_DIRECTION),void 0===c&&(c=f.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===a&&(a=f.DEFAULT_DISTANCE_TO_FAR_PLANE),c<f.MIN_DISTANCE_TO_NEAR_PLANE&&(c=f.MIN_DISTANCE_TO_NEAR_PLANE),f.MAX_DISTANCE_TO_FAR_PLANE<a&&(a=f.MAX_DISTANCE_TO_FAR_PLANE),O=e.renderer.canvas,h=new s,Object.defineProperty(this,"position",{get:function(){return n}}),Object.defineProperty(this,"facingDirection",{get:function(){return i}}),Object.defineProperty(this,"upDirection",{get:function(){return o}}),Object.defineProperty(this,"distanceToNearPlane",{get:function(){return c}}),Object.defineProperty(this,"distanceToFarPlane",{get:function(){return a}}),Object.defineProperty(this,"viewFrustum",{get:function(){return h}}),P=!0,d=!0,R=!0}catch(w){throw console.log("g2l.Camera: ",w),w}this.zoom=function(e){var t=u.multiplyVectorByScalar(u.calculateUnitVectorOf(i),e);n=u.addVectors(n,t),P=!0},this.getPosition=function(){return n},this.getFacingDirection=function(){return i},this.getUpDirection=function(){return o},this.getUpDirection=function(){return o},this.getDistanceToNearPlane=function(e){return c},this.getDistanceToFarPlane=function(e){return a},this.getProjectionMatrix=function(e){_(),e.elements=T.elements.slice()},this.getTransform=function(e){E(),_(),R===!0&&(A=r.multiplyMatrices(T,l)),e.elements=A.elements.slice(),R===!0&&(R=!1)}}function E(){}function _(){}function O(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r}function l(){}function T(){}function A(e){function t(){if(void 0!==e.settings&&void 0!==e.settings.canvas)f=e.settings.canvas;else{if(void 0===document.body)throw"document.body === undefined";f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),f.width=A.CANVAS_WIDTH,f.height=A.CANVAS_HEIGHT}}function n(){if(void 0===e.settings||e.settings.usesDefaultStyles!==!1){var t=f.style;t.width="100%",t.height="100%",t.display="block"}}function i(){if(E=f.getContext("webgl"),null===E){if(E=f.getContext("experimental-webgl"),null===E)throw alert("Unable to initialize WebGL. Your browser may not support it."),"A WebGL-not-supported exception raised.";console.log("Your browser supports WebGL. \n\nHowever, it indicates the support is experimental. That is, not all WebGL functionality may be supported, and content may not run as expected.")}E.depthRange(T.NEAR_CLIP_PLANE,T.FAR_CLIP_PLANE),l=A.DEFAULT_CLEAR_COLOR,h=A.DEFAULT_CLEAR_DEPTH,P=A.DEFAULT_CLEAR_STENCIL,E.clearColor(l.r,l.g,l.b,l.a),E.clearDepth(h),E.clearStencil(P),o(),E.pixelStorei(E.UNPACK_FLIP_Y_WEBGL,!0)}function o(){c(),u(),a(),s()}function c(){E.disable(E.BLEND)}function u(){E.enable(E.DEPTH_TEST),E.depthFunc(E.LEQUAL),E.disable(E.STENCIL_TEST)}function a(){}function s(){E.enable(E.CULL_FACE),E.cullFace(E.BACK)}var f,E,_,l,h,P;try{t(),n(),i()}catch(d){throw console.log("Renderer: "+d),d}Object.defineProperty(this,"xcene",{get:function(){return e}}),Object.defineProperty(this,"canvas",{get:function(){return f}}),Object.defineProperty(this,"webGLContext",{get:function(){return E}}),Object.defineProperty(this,"program",{get:function(){return _},set:function(e){e!==_&&(_=e,E.useProgram(_.webGLProgram))}}),this.clear=function(e,t,n,r){void 0!==t&&O.areEqual(t,l)===!1&&(l=t,E.clearColor(l.r,l.g,l.b,l.a)),void 0!==n&&n!==h&&(h=n,E.clearDepth(h)),void 0!==r&&r!==P&&(P=r,E.clearStencil(P)),void 0===e&&(e=A.DEFAULT_CLEAR_OPTIONS),E.clear(e)},this.drawPrimitives=function(e,t,n){E.drawArrays(e,t,n)},this.drawIndexedPrimitives=function(e,t,n,r){void 0===r&&(r=0),E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,e.webGLBuffer),E.drawElements(t,n,E.UNSIGNED_SHORT,r)},this.getAttributeLocation=function(e,t){return E.getAttribLocation(e.webGLProgram,t)},this.getUniformLocation=function(e,t){return E.getUniformLocation(e.webGLProgram,t)},this.setAttribute=function(e,t){E.bindBuffer(E.ARRAY_BUFFER,t.webGLBuffer),E.vertexAttribPointer(e,t.size,E.FLOAT,!1,0,0),E.enableVertexAttribArray(e)},this.setSampler=function(e,t,n){void 0===n&&(n=A.DEFAULT_TEXTURE_UNIT),E.activeTexture(E.TEXTURE0+n),E.bindTexture(E.TEXTURE_2D,t.webGLTexture),this.setUniform(e,n)},this.setUniform=function(e,t){t instanceof r==!0?E.uniformMatrix4fv(e,!1,new Float32Array(t.elements)):E.uniform1i(e,t)}}function h(e){var t;try{t=e.createBuffer()}catch(n){throw console.log("IndexBuffer: "+n),n}Object.defineProperty(this,"gl",{get:function(){return e}}),Object.defineProperty(this,"webGLBuffer",{get:function(){return t}})}function P(){}function d(){}function R(){}function y(){}function w(){}function m(e){var t;try{t=e.createProgram()}catch(n){throw console.log("Program: "+n),n}Object.defineProperty(this,"gl",{get:function(){return e}}),Object.defineProperty(this,"webGLProgram",{get:function(){return t}})}function p(){}function g(){}function S(e){var t,n,r;try{t=e.createTexture()}catch(i){throw console.log("IndexBuffer: "+i),i}Object.defineProperty(this,"gl",{get:function(){return e}}),Object.defineProperty(this,"webGLTexture",{get:function(){return t}}),Object.defineProperty(this,"width",{get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=e}})}function x(){}function b(){}function L(){}function N(){}function v(e){var t,n;try{t=e.createBuffer()}catch(r){throw console.log("VertexBuffer: "+r),r}Object.defineProperty(this,"gl",{get:function(){return e}}),Object.defineProperty(this,"webGLBuffer",{get:function(){return t}}),Object.defineProperty(this,"size",{get:function(){return n},set:function(e){n=e}})}function D(){}function I(){}function C(e){function n(e,t){var n;if(e===g.VERTEX_SHADER)n=o.createShader(o.VERTEX_SHADER);else{if(e!==g.FRAGMENT_SHADER)return null;n=o.createShader(o.FRAGMENT_SHADER)}if(o.shaderSource(n,t),o.compileShader(n),o.getShaderParameter(n,o.COMPILE_STATUS)===!1){var r=o.getShaderInfoLog(n);throw o.deleteShader(n),"An error occurred compiling the shaders: "+r}return n}function r(e){var t=document.getElementById(e);if(null===t)return null;for(var n="",r=t.firstChild;null!==r;)r.nodeType===Node.TEXT_NODE&&(n+=r.textContent),r=r.nextSibling;var i;if("x-shader/x-vertex"===t.type)i=o.createShader(o.VERTEX_SHADER);else{if("x-shader/x-fragment"!==t.type)return null;i=o.createShader(o.FRAGMENT_SHADER)}if(o.shaderSource(i,n),o.compileShader(i),o.getShaderParameter(i,o.COMPILE_STATUS)===!1){var c=o.getShaderInfoLog(i);throw o.deleteShader(i),"An error occurred compiling the shaders: "+c}return i}function i(e,t){var n=new m(o),r=n.webGLProgram;if(o.attachShader(r,e),o.attachShader(r,t),o.linkProgram(r),o.getProgramParameter(r,o.LINK_STATUS)===!1){var i=o.getProgramInfoLog(r);throw o.deleteProgram(r),"Unable to initialize the (shader) program: "+i}return n}var o=e.renderer.webGLContext;Object.defineProperty(this,"xcene",{get:function(){return e}}),this.createVertexBuffer=function(){return new v(o)},this.createIndexBuffer=function(){return new h(o)},this.setUpProgram=function(e,t){var r=n(g.VERTEX_SHADER,e),o=n(g.FRAGMENT_SHADER,t);return i(r,o)},this.setUpProgramFromHtmlElements=function(e,t){var n=r(g.VERTEX_SHADER,e),o=r(g.FRAGMENT_SHADER,t);return i(n,o)},this.loadTexture2D=function(e){function n(e,n){o.bindTexture(o.TEXTURE_2D,n.webGLTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,e),t.isPowerOfTwo(e.width)===!0&&t.isPowerOfTwo(e.height)===!0?(o.generateMipmap(o.TEXTURE_2D),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR_MIPMAP_LINEAR)):o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.bindTexture(o.TEXTURE_2D,null),n.width=e.width,n.height=e.height}var r=new Image,i=new S(o);return r.addEventListener("load",function(){n(r,i)}),r.src=e,i}}function F(){}function U(e){function t(){void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}())}function n(){}try{Object.defineProperty(this,"settings",{get:function(){return e}});var r,i;r=new A(this),Object.defineProperty(this,"renderer",{get:function(){return r}}),i=new C(this),Object.defineProperty(this,"loader",{get:function(){return i}}),t(),n()}catch(o){throw console.error("g2l.Xcene: "+o),o}this.run=function(e,t){function n(){requestAnimationFrame(n),void 0!==e&&e(),void 0!==t&&t()}n()}}function H(){}function z(){var e,t,n,r;try{e=z.FRAME_COUNT_TO_AVERAGE,t=[],n=0,r=0;for(var i=0;i<z.FRAME_COUNT_TO_AVERAGE;i++)t[i]=1}catch(o){throw console.log("Fps: "+o),o}Object.defineProperty(this,"average",{get:function(){return r}}),this.update=function(i){var o=.001*i;e+=o-t[n],t[n]=o,n++,n===z.FRAME_COUNT_TO_AVERAGE&&(n=0),r=Math.floor(1/(e/z.FRAME_COUNT_TO_AVERAGE)+.5)}}function j(){function e(){return(new Date).getTime()}var t=0,n=0;Object.defineProperty(this,"isRunning",{get:function(){return 0!==t?!0:!1}}),Object.defineProperty(this,"elapsedMilliseconds",{get:function(){return n+(this.isRunning===!0)?e()-t:0}}),this.start=function(){t=this.isRunning===!0?t:e()},this.stop=function(){n=this.isRunning===!0?n+(e()-t):n,t=0},this.reset=function(){t=0,n=0}}function M(e,n,r){var i,o,c;switch(e){case H.EASE_IN:i=-t.PI_OVER_TWO,o=0;break;case H.EASE_OUT:i=0,o=t.PI_OVER_TWO;break;case H.EASE_IN_OUT:i=-t.PI_OVER_TWO,o=t.PI_OVER_TWO;break;default:throw"A not-supported exception raised."}c=new j,Object.defineProperty(this,"easeMode",{get:function(){return e}}),Object.defineProperty(this,"duration",{get:function(){return n}}),Object.defineProperty(this,"sineOfStartAngle",{get:function(){return Math.sin(i)}}),Object.defineProperty(this,"sineOfCurrentAngle",{get:function(){var e=o-i;return Math.sin(i+e*this.ratioOfCurrentToTotalTimeOffset)}}),Object.defineProperty(this,"sineOfFinishAngle",{get:function(){return Math.sin(o)}}),Object.defineProperty(this,"ratioOfCurrentToTotalTimeOffset",{get:function(){if(r===!1)return this.isFinished===!0?1:c.elapsedMilliseconds/n;var e=c.elapsedMilliseconds%n;return e/n}}),Object.defineProperty(this,"ratioOfCurrentToTotalSineOfAngleOffset",{get:function(){var e=this.sineOfCurrentAngle-this.sineOfStartAngle,t=this.sineOfFinishAngle-this.sineOfStartAngle;return e/t}}),Object.defineProperty(this,"isRunning",{get:function(){return c.isRunning}}),Object.defineProperty(this,"isFinished",{get:function(){if(r===!0)return!1;var e=n<=c.elapsedMilliseconds?!0:!1;return e===!0&&c.stop(),e}}),this.start=function(){c.isRunning!==!0&&c.start()},this.pause=function(){c.isRunning!==!1&&c.stop()},this.resume=function(){c.isRunning!==!0&&c.start()},this.stop=function(){c.reset()}}t.PI=3.141592653589793,t.PI_OVER_TWO=1.5707963267948966,t.PI_OVER_FOUR=.7853981633974483,t.TWO_PI=6.283185307179586,t.PI_OVER_ONE_EIGHTY=.0174532925199432,t.ONE_EIGHTY_OVER_PI=57.29577951308232,t.RADIANS_OF_FORTY_FIVE_DEGREES=t.PI_OVER_FOUR,t.RADIANS_OF_NINETY_DEGREES=t.PI_OVER_TWO,t.RADIANS_OF_ONE_EIGHTY_DEGREES=t.PI,t.RADIANS_OF_THREE_SIXTY_DEGREES=t.TWO_PI,t.EPSILON=1e-5,t.toRadians=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return t.PI_OVER_ONE_EIGHTY*e},t.toDegrees=function(e){if("number"!=typeof e)throw"typeof(degrees) !== 'number'";return t.ONE_EIGHTY_OVER_PI*e},t.isZero=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return e<=-t.EPSILON||t.EPSILON<=e?!1:!0},t.areEqual=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";var r=e-n;return r<=-t.EPSILON||t.EPSILON<=r?!1:!0},t.isScalar1LessThanScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return e-n<=-t.EPSILON?!0:!1},t.isScalar1LessThanOrEqualToScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return e-n<t.EPSILON?!0:!1},t.isScalar1GreaterThanScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return t.EPSILON<=e-n?!0:!1},t.isScalar1GreaterThanOrEqualToScalar2=function(e,n){if("number"!=typeof e)throw"typeof(s1) !== 'number'";if("number"!=typeof n)throw"typeof(s2) !== 'number'";return-t.EPSILON<e-n?!0:!1},t.isPowerOfTwo=function(e){if("number"!=typeof e)throw"typeof(s) !== 'number'";return 0!==e&&0===(e&e-1)?!0:!1},Object.freeze(t),n.X=0,n.Y=1,n.Z=2,Object.freeze(n),r.ELEMENT_COUNT=16,r.fromArray=function(e){return new r(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},r.createIdentityMatrix=function(){return new r(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},r.createViewMatrix=function(e,t,n){var i,o,c,a;a=u.negateVector(t),c=u.calculateUnitVectorOf(a),a=u.calculateCrossProductOf(n,c),i=u.calculateUnitVectorOf(a),o=u.calculateCrossProductOf(c,i);var s=i.x,f=o.x,E=c.x,_=0,O=i.y,l=o.y,T=c.y,A=0,h=i.z,P=o.z,d=c.z,R=0,y=-u.calculateDotProductOf(i,e),w=-u.calculateDotProductOf(o,e),m=-u.calculateDotProductOf(c,e),p=1;return new r(s,O,h,y,f,l,P,w,E,T,d,m,_,A,R,p)},r.createProjectionMatrix=function(e,t,n,i){void 0===e&&(e=f.FIELD_OF_VIEW_Y),void 0===n&&(n=f.DEFAULT_DISTANCE_TO_NEAR_PLANE),void 0===i&&(i=f.DEFAULT_DISTANCE_TO_FAR_PLANE);var o,c;c=1/Math.tan(e/2),o=c/t;var u=[];return u[0]=o,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=c,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=i/(n-i),u[11]=-1,u[12]=0,u[13]=0,u[14]=n*i/(n-i),u[15]=0,r.fromArray(u)},r.createScaleMatrix=function(e){return new r(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},r.createRotationMatrix=function(e,t){var i=Math.cos(t),o=Math.sin(t);switch(e){case n.X:return new r(1,0,0,0,0,i,-o,0,0,o,i,0,0,0,0,1);case n.Y:return new r(i,0,o,0,0,1,0,0,-o,0,i,0,0,0,0,1);case n.Z:return new r(i,-o,0,0,o,i,0,0,0,0,1,0,0,0,0,1);default:console.log("A not-supported exception raised.")}},r.createTranslationMatrix=function(e){return new r(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1)},r.multiplyMatrices=function(e,t){var n=e.elements,i=t.elements,o=[],c=n[0],u=n[4],a=n[8],s=n[12],f=n[1],E=n[5],_=n[9],O=n[13],l=n[2],T=n[6],A=n[10],h=n[14],P=n[3],d=n[7],R=n[11],y=n[15],w=i[0],m=i[4],p=i[8],g=i[12],S=i[1],x=i[5],b=i[9],L=i[13],N=i[2],v=i[6],D=i[10],I=i[14],C=i[3],F=i[7],U=i[11],H=i[15];return o[0]=c*w+u*S+a*N+s*C,o[4]=c*m+u*x+a*v+s*F,o[8]=c*p+u*b+a*D+s*U,o[12]=c*g+u*L+a*I+s*H,o[1]=f*w+E*S+_*N+O*C,o[5]=f*m+E*x+_*v+O*F,o[9]=f*p+E*b+_*D+O*U,o[13]=f*g+E*L+_*I+O*H,o[2]=l*w+T*S+A*N+h*C,o[6]=l*m+T*x+A*v+h*F,o[10]=l*p+T*b+A*D+h*U,o[14]=l*g+T*L+A*I+h*H,o[3]=P*w+d*S+R*N+y*C,o[7]=P*m+d*x+R*v+y*F,o[11]=P*p+d*b+R*D+y*U,o[15]=P*g+d*L+R*I+y*H,r.fromArray(o)},r.transposeMatrix=function(e){return new r(e.s11,e.s21,e.s31,e.s41,e.s12,e.s22,e.s32,e.s42,e.s13,e.s23,e.s33,e.s43,e.s14,e.s24,e.s34,e.s44)},r.invertMatrix=function(e){var t=e.s11,n=e.s12,i=e.s13,o=e.s14,c=e.s21,u=e.s22,a=e.s23,s=e.s24,f=e.s31,E=e.s32,_=e.s33,O=e.s34,l=e.s41,T=e.s42,A=e.s43,h=e.s44,P=a*O*T-s*_*T+s*E*A-u*O*A-a*E*h+u*_*h,d=o*_*T-i*O*T-o*E*A+n*O*A+i*E*h-n*_*h,R=i*s*T-o*a*T+o*u*A-n*s*A-i*u*h+n*a*h,y=o*a*E-i*s*E-o*u*_+n*s*_+i*u*O-n*a*O,w=t*P+c*d+f*R+l*y;if(0===w)throw"Can't invert matrix cuz determinant is 0";return w=1/w,r.fromArray([P*w,(s*_*l-a*O*l-s*f*A+c*O*A+a*f*h-c*_*h)*w,(u*O*l-s*E*l+s*f*T-c*O*T-u*f*h+c*E*h)*w,(a*E*l-u*_*l-a*f*T+c*_*T+u*f*A-c*E*A)*w,d*w,(i*O*l-o*_*l+o*f*A-t*O*A-i*f*h+t*_*h)*w,(o*E*l-n*O*l-o*f*T+t*O*T+n*f*h-t*E*h)*w,(n*_*l-i*E*l+i*f*T-t*_*T-n*f*A+t*E*A)*w,R*w,(o*a*l-i*s*l-o*c*A+t*s*A+i*c*h-t*a*h)*w,(n*s*l-o*u*l+o*c*T-t*s*T-n*c*h+t*u*h)*w,(i*u*l-n*a*l-i*c*T+t*a*T+n*c*A-t*u*A)*w,y*w,(i*s*f-o*a*f+o*c*_-t*s*_-i*c*O+t*a*O)*w,(o*u*f-n*s*f-o*c*E+t*s*E+n*c*O-t*u*O)*w,(n*a*f-i*u*f+i*c*E-t*a*E-n*c*_+t*u*_)*w])},r.areEqual=function(e,t){if(e instanceof r==!1||t instanceof r==!1)return!1;for(var n=e.elements,i=t.elements,o=0;o<r.ELEMENT_COUNT;o++)if(n[o]!==i[o])return!1;return!0},Object.freeze(r),i.prototype={toMatrix4x4:function(){var e=this.x,t=this.y,n=this.z,i=this.w,o=e*e,c=t*t,u=n*n,a=e*t,s=n*i,f=n*e,E=t*i,_=t*n,O=e*i,l=[1-2*(c+u),2*(a+s),2*(f-E),0,2*(a-s),1-2*(u+o),2*(_+O),0,2*(f+E),2*(_-O),1-2*(c+o),0,0,0,0,1];return r.fromArray(l)}},i.ELEMENT_COUNT=4,i.fromAxisAngle=function(e,t){e=u.calculateUnitVectorOf(e);var n=.5*t,r=Math.sin(n),o=Math.cos(n);return new i(e.x*r,e.y*r,e.z*r,o)},i.fromArray=function(e){return new i(e[0],e[1],e[2],e[3])},i.createIdentityQuaternion=function(){return new i(0,0,0,1)},i.calculateUnitQuaternionOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(n<t.EPSILON)return new i(0,0,0,0);var r=1/n;return new i(e.x*r,e.y*r,e.z*r,e.w*r)},i.areEqual=function(e,t){return e instanceof i==!1||t instanceof i==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(i),o.prototype={toArray:function(){return[this.x,this.y]}},o.ELEMENT_COUNT=2,o.fromArray=function(e){return new o(e[0],e[1])},o.calculateUnitVectorOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y);if(n<t.EPSILON)return new o(0,0);var r=1/n;return new o(e.x*r,e.y*r)},o.negateVector=function(e){return new o(-e.x,-e.y)},o.addVectors=function(e,t){return new o(e.x+t.x,e.y+t.y)},o.subtractVectors=function(e,t){return new o(e.x-t.x,e.y-t.y)},o.multiplyVectorByScalar=function(e,t){return new o(e.x*t,e.y*t)},o.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y},o.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y},o.calculatePerpendicularVectorOf=function(e){return new o(-e.y,e.x)},o.calculatePerpendicularDotProductOf=function(e,t){return-e.y*t.x+e.x*t.y},o.areEqual=function(e,t){return e instanceof o==!1||t instanceof o==!1?!1:e.x!==t.x||e.y!==t.y?!1:!0},Object.freeze(o),c.prototype={toArray:function(){return[this.x,this.y,this.z,this.w]}},Object.defineProperty(c.prototype,"xyz",{get:function(){return new u(this.x,this.y,this.z)}}),c.ELEMENT_COUNT=4,c.fromArray=function(e){return new c(e[0],e[1],e[2],e[3])},c.calculateUnitVectorOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);if(n<t.EPSILON)return new c(0,0,0,0);var r=1/n;return new c(e.x*r,e.y*r,e.z*r,e.w*r)},c.addVectors=function(e,t){return new c(e.x+t.x,e.y+t.y,e.z+t.z,e.w+t.w)},c.subtractVectors=function(e,t){return new c(e.x-t.x,e.y-t.y,e.z-t.z,e.w-t.w)},c.multiplyVectorByScalar=function(e,t){return new c(e.x*t,e.y*t,e.z*t,e.w*t)},c.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w)},c.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},c.transform=function(e,t){return new c(e.s11*t.x+e.s12*t.y+e.s13*t.z+e.s14*t.w,e.s21*t.x+e.s22*t.y+e.s23*t.z+e.s24*t.w,e.s31*t.x+e.s32*t.y+e.s33*t.z+e.s34*t.w,e.s41*t.x+e.s42*t.y+e.s43*t.z+e.s44*t.w)},c.areEqual=function(e,t){return e instanceof c==!1||t instanceof c==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z||e.w!==t.w?!1:!0},Object.freeze(c),u.prototype={toArray:function(){return[this.x,this.y,this.z]}},Object.defineProperty(u.prototype,"xy",{get:function(){return new o(this.x,this.y)}}),u.ELEMENT_COUNT=3,u.fromArray=function(e){return new u(e[0],e[1],e[2])},u.calculateUnitVectorOf=function(e){var n=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);if(n<t.EPSILON)return new u(0,0,0);var r=1/n;return new u(e.x*r,e.y*r,e.z*r)},u.negateVector=function(e){return new u(-e.x,-e.y,-e.z)},u.addVectors=function(e,t){return new u(e.x+t.x,e.y+t.y,e.z+t.z)},u.subtractVectors=function(e,t){return new u(e.x-t.x,e.y-t.y,e.z-t.z)},u.multiplyVectorByScalar=function(e,t){return new u(e.x*t,e.y*t,e.z*t)},u.calculateLengthOf=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},u.calculateLengthSquaredOf=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},u.calculateDotProductOf=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},u.calculateCrossProductOf=function(e,t){return new u(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)},u.transformPoint=function(e,t){var n=new c(t.x,t.y,t.z,1),r=c.Transform(e,n),i=1/r.w;return new u(r.x*i,r.y*i,r.z*i)},u.transformVector=function(e,t){var n=new c(t.x,t.y,t.z,0);return t=c.Transform(e,n),new u(t.x,t.y,t.z)},u.transform=function(e,t){var n=t.X+t.X,r=t.Y+t.Y,i=t.Z+t.Z,o=t.W*n,c=t.W*r,a=t.W*i,s=t.X*n,f=t.X*r,E=t.X*i,_=t.Y*r,O=t.Y*i,l=t.Z*i,T=1-_-l,A=f-a,h=E+c,P=f+a,d=1-s-l,R=O-o,y=E-c,w=O+o,m=1-s-_;return new u(e.X*T+e.Y*A+e.Z*h,e.X*P+e.Y*d+e.Z*R,e.X*y+e.Y*w+e.Z*m)},u.areEqual=function(e,t){return e instanceof u==!1||t instanceof u==!1?!1:e.x!==t.x||e.y!==t.y||e.z!==t.z?!1:!0},Object.freeze(u),a.X_AXIS=new u(1,0,0),a.Y_AXIS=new u(0,1,0),a.Z_AXIS=new u(0,0,1),Object.freeze(a),Object.freeze(s),f.DEFAULT_FACING_DIRECTION=u.negateVector(a.Z_AXIS),f.DEFAULT_UP_DIRECTION=a.Y_AXIS,f.FIELD_OF_VIEW_Y=t.PI_OVER_FOUR,f.MIN_DISTANCE_TO_NEAR_PLANE=10,f.MAX_DISTANCE_TO_FAR_PLANE=1e6,f.DEFAULT_DISTANCE_TO_NEAR_PLANE=f.MIN_DISTANCE_TO_NEAR_PLANE,f.DEFAULT_DISTANCE_TO_FAR_PLANE=1e5,Object.freeze(f),E.fromDisplayToDrawSpace=function(e,t){return{x:t.x/e.clientWidth*e.width,y:t.y/e.clientHeight*e.height}},E.fromDrawToDisplaySpace=function(e,t){return{x:t.x/e.width*e.clientWidth,y:t.y/e.height*e.clientHeight}},Object.freeze(E),_.COLOR_BUFFER=16384,_.DEPTH_BUFFER=256,_.STENCIL_BUFFER=1024,Object.freeze(_),O.prototype={toArray:function(){return[this.r,this.g,this.b,this.a]}},O.areEqual=function(e,t){return e instanceof O==!1||t instanceof O==!1?!1:e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a?!1:!0},Object.freeze(O),l.DEFAULT_BACKGROUND=new O(32/255,32/255,32/255,1),l.BLACK=new O(0,0,0,1),l.WHITE=new O(1,1,1,1),l.TRANSPARENT=new O(1,1,1,0),l.SKY_BLUE=new O(135/255,206/255,235/255,1),l.CADET_BLUE=new O(95/255,158/255,160/255,1),l.PINK=new O(1,192/255,203/255,1),l.PHOTOSHOP_DARK_RED=new O(157/255,10/255,14/255,1),l.PHOTOSHOP_PASTEL_RED_ORANGE=new O(255,173/255,129/255,1),l.PHOTOSHOP_DARK_RED_ORANGE=new O(255,65/255,13/255,1),l.PHOTOSHOP_PASTEL_YELLOW_ORANGE=new O(253/255,198/255,137/255,1),l.PHOTOSHOP_DARK_YELLOW_ORANGE=new O(163/255,97/255,9/255,1),l.PHOTOSHOP_PASTEL_YELLOW=new O(1,247/255,.6,1),l.PHOTOSHOP_DARK_YELLOW=new O(171/255,160/255,0,1),l.PHOTOSHOP_PASTEL_PEA_GREEN=new O(196/255,223/255,155/255,1),l.PHOTOSHOP_DARK_PEA_GREEN=new O(89/255,133/255,39/255,1),l.PHOTOSHOP_PASTEL_YELLOW_GREEN=new O(162/255,211/255,156/255,1),l.PHOTOSHOP_DARK_YELLOW_GREEN=new O(25/255,122/255,48/255,1),l.PHOTOSHOP_PASTEL_GREEN=new O(130/255,202/255,156/255,1),l.PHOTOSHOP_DARK_GREEN=new O(0,114/255,54/255,1),l.PHOTOSHOP_PASTEL_GREEN_CYAN=new O(122/255,.8,200/255,1),l.PHOTOSHOP_DARK_GREEN_CYAN=new O(0,115/255,106/255,1),l.PHOTOSHOP_PASTEL_CYAN=new O(109/255,207/255,246/255,1),l.PHOTOSHOP_DARK_CYAN=new O(0,118/255,163/255,1),l.PHOTOSHOP_PASTEL_CYAN_BLUE=new O(125/255,167/255,216/255,1),l.PHOTOSHOP_DARK_CYAN_BLUE=new O(0,74/255,128/255,1),l.PHOTOSHOP_PASTEL_BLUE=new O(131/255,147/255,202/255,1),l.PHOTOSHOP_DARK_BLUE=new O(0,52/255,113/255,1),l.PHOTOSHOP_PASTEL_BLUE_VIOLET=new O(135/255,129/255,189/255,1),l.PHOTOSHOP_DARK_BLUE_VIOLET=new O(27/255,20/255,100/255,1),l.PHOTOSHOP_PASTEL_VIOLET=new O(161/255,134/255,190/255,1),l.PHOTOSHOP_DARK_VIOLET=new O(68/255,14/255,98/255,1),l.PHOTOSHOP_PASTEL_VIOLET_MAGENTA=new O(188/255,140/255,191/255,1),l.PHOTOSHOP_DARK_VIOLET_MAGENTA=new O(98/255,4/255,96/255,1),l.PHOTOSHOP_PASTEL_MAGENTA=new O(244/255,154/255,193/255,1),l.PHOTOSHOP_DARK_MAGENTA=new O(158/255,0,93/255,1),l.PHOTOSHOP_PASTEL_MAGENTA_RED=new O(245/255,152/255,157/255,1),l.PHOTOSHOP_DARK_MAGENTA_RED=new O(157/255,0,57/255,1),l.PHOTOSHOP_PALE_COOL_BROWN=new O(199/255,178/255,.6,1),l.PHOTOSHOP_DARK_COOL_BROWN=new O(83/255,71/255,65/255,1),l.PHOTOSHOP_PALE_WARM_BROWN=new O(198/255,156/255,109/255,1),l.PHOTOSHOP_DARK_WARM_BROWN=new O(117/255,76/255,36/255,1),l.OSX_SOLID_KELP=new O(89/255,136/255,123/255,1),Object.freeze(l),T.NEAR_CLIP_PLANE=0,T.FAR_CLIP_PLANE=1,Object.freeze(T),A.CANVAS_WIDTH=1024,A.CANVAS_HEIGHT=1024,A.DEFAULT_CLEAR_OPTIONS=_.COLOR_BUFFER|_.DEPTH_BUFFER,A.DEFAULT_CLEAR_COLOR=l.DEFAULT_BACKGROUND,A.DEFAULT_CLEAR_DEPTH=1,A.DEFAULT_CLEAR_STENCIL=0,A.DEFAULT_TEXTURE_UNIT=0,Object.freeze(A),h.prototype={setItems:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.webGLBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),t.STATIC_DRAW)}},Object.defineProperty(h.prototype,"items",{set:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,buffer.webGLBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(items),t.STATIC_DRAW)}}),Object.freeze(h),P.MIN_X=-1,P.MAX_X=1,P.MIN_Y=-1,P.MAX_Y=1,P.MIN_Z=-1,P.MAX_Z=1,Object.freeze(P),d.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec4 vertexColor;","uniform mat4 transform;","varying vec4 color;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","color = vertexColor;","}"].join("\n"),d.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(d),R.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","uniform mat4 transform;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","}"].join("\n"),R.FRAGMENT_SHADER_SOURCE=["precision mediump float;","void main() {","gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","}"].join("\n"),Object.freeze(R),y.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec3 vertexPosition;","attribute vec2 vertexTextureCoordinates;","uniform mat4 transform;","varying vec2 textureCoordinates;","void main() {","gl_Position = transform * vec4(vertexPosition, 1.0);","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),y.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(y),w.LINE_LIST=1,w.LINE_STRIP=3,w.TRIANGLE_LIST=4,w.TRIANGLE_STRIP=5,Object.freeze(w),Object.freeze(m),p.toClipSpace=function(e,t){return new c(P.MIN_X+t.x/e.clientWidth*(P.MAX_X-P.MIN_X),P.MIN_Y+t.y/e.clientHeight*(P.MAX_Y-P.MIN_Y),P.MIN_Z+t.z*(P.MAX_Z-P.MIN_Z),1)},Object.freeze(p),g.VERTEX_SHADER=0,g.FRAGMENT_SHADER=1,Object.freeze(g),Object.freeze(S),x.toUV=function(e,t){return{u:e,v:1-t}},x.toST=function(e,t){return{s:e,t:1-t}},Object.freeze(x),b.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","varying vec4 color;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","}"].join("\n"),b.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","void main() {","gl_FragColor = color;","}"].join("\n"),Object.freeze(b),L.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec4 vertexColor;","attribute vec2 vertexTextureCoordinates;","varying vec4 color;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","color = vertexColor;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),L.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec4 color;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = color * texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(L),N.VERTEX_SHADER_SOURCE=["precision highp float;","attribute vec4 vertexPosition;","attribute vec2 vertexTextureCoordinates;","varying vec2 textureCoordinates;","void main() {","gl_Position = vertexPosition;","textureCoordinates = vertexTextureCoordinates;","}"].join("\n"),N.FRAGMENT_SHADER_SOURCE=["precision mediump float;","varying vec2 textureCoordinates;","uniform sampler2D sampler;","void main() {","gl_FragColor = texture2D(sampler, textureCoordinates);","}"].join("\n"),Object.freeze(N),v.prototype={setItems:function(e,t){var n=this.gl;this.size=t,n.bindBuffer(n.ARRAY_BUFFER,this.webGLBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e),n.STATIC_DRAW)}},Object.freeze(v),D.displayMessageOf=function(e){alert(e)},Object.freeze(D),I.LEFT=0,I.MIDDLE=1,I.RIGHT=2,Object.freeze(I),Object.freeze(C),Object.freeze(F),Object.freeze(U),H.EASE_IN=0,H.EASE_OUT=1,H.EASE_IN_OUT=2,Object.freeze(H),z.FRAME_COUNT_TO_AVERAGE=16,Object.freeze(z),Object.freeze(j),Object.freeze(M),e.Camera=f,e.CanvasCoordinateHelper=E,e.ClearOptions=_,e.Color=O,e.Colors=l,e.DepthBufferValues=T,e.Renderer=A,e.IndexBuffer=h,e.NormalizedDeviceCoordinates=P,e.PositionColor=d,e.PositionOnly=R,e.PositionTextureCoordinates=y,e.PrimitiveType=w,e.Program=m,e.ScreenCoordinateHelper=p,e.ShaderType=g,e.Texture2D=S,e.TextureCoordinateHelper=x,e.TransformedPositionColor=b,e.TransformedPositionColorTextureCoordinates=L,e.TransformedPositionTextureCoordinates=N,e.VertexBuffer=v,e.ExceptionHelper=D,e.MouseButton=I,e.Loader=C,e.AxisGroup=a,e.MathHelper=t,e.Vector2D=o,e.Vector3D=u,e.Vector4D=c,e.Matrix4x4=r,e.CartesianAxis=n,e.Plane=F,e.Quaternion=i,e.ViewFrustum=s,e.Xcene=U,e.EaseMode=H,e.Fps=z,e.SineEase=M,e.Stopwatch=j}(this.GorillaGL=this.GorillaGL||{});
